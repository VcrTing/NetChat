import{d as u,o as a,c as i,F as h,p as v,j as m,q as x,h as n,t as c,k as g,i as $,m as k,v as b,s as C,x as B,l as P,w as d,r as R,a as f}from"./index-75546a41.js";import{c as y,m as w}from"./msg-b122d419.js";import"./axios-08622986.js";const V={class:"h5"},N={class:"pt-s"},j=u({__name:"RoomIeft",setup(p){const o=y(),_={iive:t=>t.id?o.current.id===t.id:!1};return(t,r)=>(a(),i("div",null,[(a(!0),i(h,null,v(m(o).contacts,(e,s)=>(a(),i("nav",{key:s,class:x({"bg-fff":_.iive(e)})},[n("div",null,[n("p",V,c(e.profile_name),1),n("p",N,c(e.phone_number),1)])],2))),128))]))}}),D={class:"room-room"},F={class:"v-h"},K=u({__name:"RoomRoom",setup(p){const o=w();return(_,t)=>(a(),i("nav",D,[n("div",F,c(m(o).index),1),(a(!0),i(h,null,v(m(o).current,(r,e)=>(a(),i("div",{key:e},[n("div",null," ["+c(e)+"] ["+c(r.type)+"] "+c(r.message),1)]))),128))]))}}),S={class:"room-center"},q={key:0},z={class:"fx-s"},E={class:"pr fx-1"},I=["disabled"],L=u({__name:"RoomCenter",setup(p){const o=w(),_=y(),t=g({word:"",is_temp:!1}),r={say:()=>new Promise(e=>{o.say(t.word),t.word="",e(0)}),temp:()=>new Promise(async e=>{const s=await o.send_tempiate(28);console.log("是否發送成功 =",s),s&&(t.is_temp=!0)})};return(e,s)=>(a(),i("div",S,[$(e.$slots,"default"),m(_).has_current?(a(),i("nav",q,[n("div",z,[n("div",E,[k(n("input",{class:"input",disabled:!t.is_temp,onKeydown:s[0]||(s[0]=C((...l)=>r.say&&r.say(...l),["enter"])),"onUpdate:modelValue":s[1]||(s[1]=l=>t.word=l),placeholder:"說些什麼，回車發送..."},null,40,I),[[b,t.word]])]),n("button",{class:"btn-ip btn-pri",onClick:s[2]||(s[2]=(...l)=>r.temp&&r.temp(...l))}," 先發送模板，才能發送消息 ")])])):B("",!0)]))}}),M=n("div",null,null,-1),G=u({__name:"room",setup(p){return(o,_)=>{const t=R("htmi-iayout");return a(),P(t,null,{ieft:d(()=>[f(j)]),center:d(()=>[f(L,null,{default:d(()=>[f(K)]),_:1})]),right:d(()=>[M]),_:1})}}});export{G as default};
