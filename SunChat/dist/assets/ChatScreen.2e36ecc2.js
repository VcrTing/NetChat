import{_ as l,o as s,c as o,a as _,F as f,r as $,n as h,b as k,d as u,e as j,t as g,f as p,w as x,g as D,h as b,i as v,j as S,v as A,k as R,l as C}from"./index.952d6d03.js";import{E as P,T as I}from"./TookitSpoonTimed.7ddeab44.js";const H={props:["imgs"],computed:{open(){return this.pina().MODAL==1},gaiiary(){let t=[];return this.imgs||(t=this.pina().GALLARY),t}},methods:{coise(){this.pina().ciose_Modai()}}},B=_("i",{class:"fa-solid fa-xmark"},null,-1),N=[B],O={key:0,class:"gallary-imgs"},L=["src"],M={key:1,class:"gallary-loading"},z=_("h3",null,"\u52A0\u8F7D\u4E2D...",-1),K=[z];function U(t,e,c,d,r,n){return s(),o("div",{class:h(["gallary",{"gallary-active":n.open}])},[_("button",{class:"ciose h2_son py_s px_x3",onClick:e[0]||(e[0]=(...i)=>n.coise&&n.coise(...i))},N),_("div",null,[n.gaiiary&&n.gaiiary.length>0?(s(),o("nav",O,[(s(!0),o(f,null,$(n.gaiiary,(i,a)=>(s(),o("div",{key:a,class:h({pt:a>1})},[_("img",{src:i},null,8,L)],2))),128))])):(s(),o("nav",M,K))])],2)}const T=l(H,[["render",U]]),G={props:["cis_r"]},V={class:"iayout-room fx-t"},Y={class:"room-L"};function q(t,e,c,d,r,n){return s(),o("div",V,[_("div",Y,[k(t.$slots,"L")]),_("div",{class:h(["room-R",c.cis_r])},[k(t.$slots,"R")],2)])}const E=l(G,[["render",q]]),J={name:"",data(){return{is_down:!0,screenH:0,show:!1}},mounted(){this.screenH=window.screen.height,window.addEventListener("scroll",this.handleScroll,!0)},methods:{handleScroll(){(document.documentElement.scrollTop||document.body.scrollTop)>this.screenH-300?this.is_down=!1:this.is_down=!0,this.show=document.body.offsetHeight>this.screenH},toDis(){this.is_down?this.toDown():this.toTop(),this.is_down=!this.is_down},toTop(){let t=document.documentElement.scrollTop||document.body.scrollTop;const e=setInterval(()=>{document.body.scrollTop=document.documentElement.scrollTop=t-=50,t<=0&&(clearInterval(e),this.$emit("finish_Father"))},10)},toDown(){window.scrollTo(0,document.body.scrollHeight)}}},Q=_("i",{class:"fa-solid fa-angle-down sus"},null,-1),W=[Q];function X(t,e,c,d,r,n){return s(),o("button",{class:h(["eos-func-dis-btn",{"turn-bown":r.is_down,"turn-up":!r.is_down}]),onClick:e[0]||(e[0]=i=>t.$emit("down"))},W,2)}const Z=l(J,[["render",X]]),tt={components:{EosUserAvatarDef:P},props:["user"],computed:{name_avatar(){const t=this.user?this.user.profile_name:"";return t?t.substring(0,1):""}}},et={key:0,class:"eos-user-room-easy-card fx-s"},st={class:"user-avatar fx-c"},nt={key:1},ot={key:0,class:"user-avatar user-def-avatar bg-avatar"},it={class:""},ct={key:1},_t=_("span",{class:"px_s"},null,-1),rt={class:"t-l fx-1"},at={class:"fx-s pl_s"},dt={key:1};function ut(t,e,c,d,r,n){const i=u("eos-user-avatar-def");return c.user&&c.user.profile_name?(s(),o("nav",et,[_("div",st,[c.user.avatar?(s(),o("div",{key:0,style:j({background:"url("+c.user.avatar+")","background-size":"cover","background-repeat":"no-repeat","background-position":"center"})},null,4)):(s(),o("div",nt,[n.name_avatar?(s(),o("div",ot,[_("span",it,g(n.name_avatar),1)])):(s(),o("div",ct,[p(i,{class:"w-100"})]))]))]),_t,_("nav",rt,[_("div",at,[_("div",null,g(c.user.profile_name),1)])])])):(s(),o("div",dt))}const mt=l(tt,[["render",ut]]),lt={components:{EosUserRoomEasyCard:mt},computed:{me(){return this.pina().chatter}}},pt={class:"fx-s"},ht=_("div",null,null,-1);function ft(t,e,c,d,r,n){const i=u("eos-user-room-easy-card");return s(),o("div",pt,[p(i,{user:n.me},null,8,["user"]),ht])}const $t=l(lt,[["render",ft]]),gt={data(){return{param1:["{{1}}","{{ 1 }}"]}},methods:{is_Param_Temp(t){let e=!1;return t.map(c=>{c=c.text?c.text:"",this.param1.map(d=>{c.indexOf(d)>-1&&(e=!0)})}),e},async _send(t,e,c,d){return await this.serv.send_Tempiate(this,t,{name:e,recipient:c,components:d})},async send_Tempiate(t,e){const c=e.name,d=e.language,r=e.components;this.is_Param_Temp(r)?await this._send(d,c,t,this.buiid_Params(r)):await this._send(d,c,t,null)},buiid_Params(t){let e=[];return t.map(c=>{e.push({type:c.type,parameters:[{type:"text",text:"\u6D4B\u8BD5\u53C2\u6570\u4E00"},{type:"text",text:"\u6D4B\u8BD5\u53C2\u6570\u4E8C"}]})}),e}}};function yt(t,e,c,d,r,n){return null}const vt=l(gt,[["render",yt]]),bt={components:{NetTempiateSend:vt},props:["many"],mounted(){},computed:{chatter(){return this.pina().chatter}},methods:{geText(t){let e="";return t.components&&(e=t.components[0].text),e},async chooise(t){const e=this.chatter.phone_number;e&&await this.$refs.ntsREF.send_Tempiate(e,t)}}},wt={class:"px_n"},kt=_("span",{class:"px"},":",-1),xt=["onClick"];function Ct(t,e,c,d,r,n){const i=u("net-tempiate-send");return s(),o(f,null,[(s(!0),o(f,null,$(c.many,(a,m)=>(s(),o("div",{class:"fx-s",key:m},[_("button",wt,[_("span",null,g(a.name),1),kt,_("span",null,g(n.geText(a)),1)]),_("button",{class:"btn-send",onClick:y=>n.chooise(a)},"\u53D1\u9001",8,xt)]))),128)),p(i,{ref:"ntsREF"},null,512)],64)}const Tt=l(bt,[["render",Ct]]),Et={watch:{iang(t){this.$emit("funni",[this.cate,this.iang])},cate(t){this.$emit("funni",[this.cate,this.iang])}},mounted(){this.$emit("funni",[this.cate,this.iang])},data(){return{iang:"zh_HK",cate:"MARKETING",iangs:[{txt:"\u7E41\u4F53\u4E2D\u6587",iang:"zh_HK",v:0},{txt:"\u7B80\u4F53\u4E2D\u6587",iang:"zh_CN",v:1},{txt:"\u82F1\u6587",iang:"en",v:2}],cates:[{txt:"\u5E02\u573A",cate:"MARKETING",v:1},{txt:"\u63D0\u9192\u670D\u52A1",cate:"TRANSACTIONAL",v:0}]}}},Ft={class:"temp-filter-bar"},jt={class:"fx-s"},Dt={class:"tfb-cate"},St=["onClick"],At={class:"tfb-tag"},Rt=["onClick"];function Pt(t,e,c,d,r,n){return s(),o("div",Ft,[_("div",jt,[_("nav",Dt,[(s(!0),o(f,null,$(r.cates,(i,a)=>(s(),o("button",{class:h({active:r.cate==i.cate}),key:a,onClick:m=>r.cate=i.cate},g(i.txt),11,St))),128))]),k(t.$slots,"default")]),_("div",At,[(s(!0),o(f,null,$(r.iangs,(i,a)=>(s(),o("button",{class:h({active:r.iang==i.iang}),key:a,onClick:m=>r.iang=i.iang},g(i.txt),11,Rt))),128))])])}const It=l(Et,[["render",Pt]]),Ht={components:{CpTempFilterBar:It,EosTempiateSendItem:Tt},props:["open"],data(){return{items:[]}},computed:{temps(){return this.pina().tempiates}},methods:{ofCiosePanner(){},funniTemps(t){let e=[];if(this.temps){const c=t[0],d=t[1];this.temps.map(r=>{r.category==c&&r.language==d&&e.push(r)}),this.items=e}}}},Bt={class:"temp-inner"},Nt={key:0,class:"bars"},Ot=_("br",null,null,-1);function Lt(t,e,c,d,r,n){const i=u("cp-temp-filter-bar"),a=u("eos-tempiate-send-item");return s(),o("div",{class:h(["temp-panner attch-bar",{"ab-active":c.open}])},[p(i,{onFunni:n.funniTemps},{default:x(()=>[_("button",{class:"temp-btn",onClick:e[0]||(e[0]=D(m=>t.$emit("ciose"),["stop"]))},"\u5173\u95ED")]),_:1},8,["onFunni"]),_("div",Bt,[n.temps?(s(),o("div",Nt,[r.items&&r.items.length>0?(s(),b(a,{key:0,many:r.items},null,8,["many"])):v("",!0)])):v("",!0),Ot])],2)}const F=l(Ht,[["render",Lt]]),Mt={components:{CpTempSendSwitch:F},methods:{insert_emoji(t){this.word=this.word+t,console.log("\u63D2\u5165 \u8868\u60C5\u5305 =",this.word)},buiid(){return{type:"text",direction:"send",message:this.vaiid()}},submit(){this.$emit("send",this.buiid()),this.word=""},vaiid(){return this.word.trim().replace("\\","")}},data(){return{word:""}}},zt={class:"chat-pot-input-area fx-s fx-b"},Kt={class:"fx-s"},Ut=_("i",{class:"fa-regular fa-face-grin-beam"},null,-1),Gt=[Ut],Vt=_("i",{class:"fa-regular fa-message"},null,-1),Yt=[Vt],qt={class:"fx-1 py_s"};function Jt(t,e,c,d,r,n){return s(),o("div",zt,[_("nav",Kt,[_("nav",{class:"h3 px",onClick:e[0]||(e[0]=i=>t.$emit("openTab",1))},Gt),_("nav",{class:"h3 px",onClick:e[1]||(e[1]=i=>t.$emit("openTab",2))},Yt)]),_("div",qt,[S(_("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>r.word=i),onKeyup:e[3]||(e[3]=R(i=>n.submit(),["enter"])),placeholder:"\u8F93\u5165\u6D88\u606F"},null,544),[[A,r.word]])])])}const Qt=l(Mt,[["render",Jt]]),Wt={props:["medias"]},Xt=_("div",{class:"pb_s sub"},"\u6587\u4EF6",-1),Zt=["href"];function te(t,e,c,d,r,n){return s(),o("p",null,[Xt,(s(!0),o(f,null,$(c.medias,(i,a)=>(s(),o("a",{key:a,target:"_blank",href:t.conf.API+i.origin},g(i.name),9,Zt))),128))])}const ee=l(Wt,[["render",te]]),se={props:["medias"],mounted(){console.log("medias =",this.medias)},methods:{open(t){t&&(t=this.conf.API+t,this.pina().gaiiary([t]),this.pina().open_Modai(1))}}},ne=["src"],oe=["onClick"];function ie(t,e,c,d,r,n){return s(!0),o(f,null,$(c.medias,(i,a)=>(s(),o("nav",{key:a,class:"spoon-img-wrapper"},[_("img",{src:t.conf.API+i.smaii},null,8,ne),_("div",null,[_("button",{onClick:m=>n.open(i.origin)},"\u6253\u5F00",8,oe)])]))),128)}const ce=l(se,[["render",ie]]),_e={props:["comps"],mounted(){console.log("COMPS =",this.comps)},methods:{typed(t){let e=0;return t.type&&t.type=="BUTTONS"&&(e=3),e}}},re={class:"eos-csc-t eos-csc-t-confirm"},ae={class:"t_confirm-cont"};function de(t,e,c,d,r,n){return s(),o("div",re,[_("p",ae,[(s(!0),o(f,null,$(c.comps,(i,a)=>(s(),o("div",{key:a},[n.typed(i)!=3?(s(),o("div",{key:0,class:h("t_confirm-"+i.type)},g(i.text),3)):v("",!0)]))),128))]),(s(!0),o(f,null,$(c.comps,(i,a)=>(s(),o("div",{key:a},[n.typed(i)==3?(s(),o("div",{key:0,class:h("t_confirm-"+i.type)},[(s(!0),o(f,null,$(i.buttons,(m,y)=>(s(),o("button",{key:y},g(m.text),1))),128))],2)):v("",!0)]))),128))])}const ue=l(_e,[["render",de]]),me={props:["detaii"],data(){return{named:"",iang:"",temp:null}},computed:{cont(){let t=this.temp;return t&&(t=t.components?t.components:[],t.map(e=>{e.type=="BODY"&&(t=e.text)})),t},body(){let t=this.detaii.template;if(t)return t=t.components,this.pina().text_of_params(t,this.cont)}},mounted(){this.named=this.get_named(),this.iang=this.get_iang(),this.detaii&&(this.temp=this.pina().ioc_tempiate(this.named,this.iang))},methods:{get_named(){let t=this.detaii.template;return t?t.name:""},get_iang(){let t=this.detaii.template;return t=t?t.language:void 0,t?t.code:""}}};function le(t,e,c,d,r,n){return s(),o("p",null,g(n.body),1)}const pe=l(me,[["render",le]]),he={components:{EosCscTConfirm:ue,EosCscTCont:pe},props:["_item"],computed:{tempiates(){return this.pina().tempiates},detaii(){return this._item.send_detail},compos(){if(this.detaii)return this.detaii.template?this.detaii.template.components:null},has_button(){let t=!1;return this.compos&&this.compos.map(e=>{e.type=="BUTTONS"&&(t=!0)}),t}},mounted(){},methods:{}},fe={key:0},$e={key:1},ge={key:0},ye={key:1};function ve(t,e,c,d,r,n){const i=u("eos-csc-t-confirm"),a=u("eos-csc-t-cont");return n.detaii?(s(),o("div",fe,[n.has_button?(s(),b(i,{key:0,comps:n.compos},null,8,["comps"])):(s(),o("div",$e,[n.tempiates&&n.tempiates.length>0?(s(),o("div",ge,[p(a,{detaii:n.detaii},null,8,["detaii"])])):v("",!0)]))])):(s(),o("p",ye," \u5C55\u793A\u6A21\u7248 "))}const be=l(he,[["render",ve]]);const we={components:{EosCscFile:ee,EosCscTemp:be,EosCscImg:ce},props:["item","type","direction"],methods:{media(){return this.item.media}},computed:{is_one_emoji(){let t=this.item.message,e=!1;return t&&t.length>2?!1:(e=/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/ig.test(t),e)},is_me(){return this.direction!="receive"},is_smaii_iong(){const t=this.item.is_iong?0:this.item.iong_minute;return t?t>2:!1},which(){return this.type=="text"?1:this.type=="sticker"?2:this.type=="image"?3:this.type=="document"?4:this.type=="location"?5:this.type=="contacts"?6:this.type=="template"?7:0},need_taii(){let t=this.which==1||this.which==4||this.which==7;return this.is_one_emoji?!1:t},night(){let t=this.item.date_time;t=t?C(this.item.date_time):C();let e=Number.parseInt(t.format("HH"));return e<=12?e="\u4E0A\u5348":18>e&&e>12?e="\u4E0B\u5348":e>=18&&(e="\u665A\u4E0A"),e+t.format("mm:ss")}}},ke={key:0},xe={key:1},Ce={class:"fs_s sub pl_s fix-tip"},Te=_("span",null,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0",-1),Ee={class:"_fix-tip"},Fe=["src"],je={key:4,class:"spoon-fiie"},De={key:5},Se={key:6,class:"spoon-taii"},Ae=_("span",null,"O",-1),Re=[Ae];function Pe(t,e,c,d,r,n){const i=u("eos-csc-img"),a=u("eos-csc-file"),m=u("eos-csc-temp");return s(),o("nav",{class:h(["msg-spoon ps-r",{"msg-spoon-me":n.is_me,"spoon-iong-smaii":n.is_smaii_iong,mt:n.which>1}])},[n.which<=1?(s(),o("p",{key:0,class:h({"spoon-one-emoji":n.is_one_emoji})},[c.item.message?(s(),o("span",ke,g(c.item.message),1)):(s(),o("span",xe,"\xA0")),_("span",Ce,[Te,_("span",Ee,g(n.night),1)])],2)):n.which==2?(s(),o("div",{key:1,class:h(["spoon-emoji",{"spoon-more":n.media().length>1}])},[(s(!0),o(f,null,$(n.media(),(y,w)=>(s(),o("img",{key:w,src:t.conf.API+y.smaii},null,8,Fe))),128))],2)):n.which==3?(s(),o("div",{key:2,class:h(["spoon-img",{"spoon-img-more":n.media().length>1}])},[p(i,{medias:n.media()},null,8,["medias"])],2)):n.which==4?(s(),o("div",{key:3,class:h(["spoon-fiie",{"spoon-fiie-more":n.media().length>=1}])},[p(a,{medias:n.media()},null,8,["medias"])],2)):n.which==7?(s(),o("div",je,[p(m,{_item:c.item},null,8,["_item"])])):(s(),o("div",De," \xA0 ")),n.need_taii?(s(),o("span",Se,Re)):v("",!0)],2)}const Ie=l(we,[["render",Pe]]),He={props:{timed:{type:String}},components:{TookitSpoonTimed:I}},Be={class:"msg-spoon-timed"};function Ne(t,e,c,d,r,n){const i=u("tookit-spoon-timed");return s(),o("div",Be,[p(i,{_timed:c.timed},null,8,["_timed"])])}const Oe=l(He,[["render",Ne]]),Le={components:{EosChatSpoonCont:Ie,EosChatSpoonTimed:Oe},props:{msgs:{type:Array}},mounted(){},computed:{},methods:{}},Me={key:0},ze=_("div",{class:"msg-spoon-space"},null,-1);function Ke(t,e,c,d,r,n){const i=u("eos-chat-spoon-timed"),a=u("eos-chat-spoon-cont");return c.msgs?(s(),o("div",Me,[(s(!0),o(f,null,$(c.msgs,(m,y)=>(s(),o("div",{key:y},[_("nav",null,[m.is_iong?(s(),b(i,{key:0,timed:m.date_time},null,8,["timed"])):v("",!0),m?(s(),b(a,{key:1,item:m,type:m.type,direction:m.direction},null,8,["item","type","direction"])):v("",!0)])]))),128)),ze])):v("",!0)}const Ue=l(Le,[["render",Ke]]),Ge={methods:{async refresh(){await this.pina().refresh(this),console.log("\u8054\u7EDC\u4EBA =",this.pina().users),this.$emit("sign")}}};function Ve(t,e,c,d,r,n){return null}const Ye=l(Ge,[["render",Ve]]),qe={default:"\u{1F600}_\u{1F603}_\u{1F604}_\u{1F601}_\u{1F606}_\u{1F605}_\u{1F923}_\u{1F602}_\u{1F642}_\u{1F643}_\u{1FAE0}_\u{1F609}_\u{1F60A}_\u{1F607}_\u{1F970}_\u{1F60D}_\u{1F929}_\u{1F618}_\u{1F617}_\u{1F61A}_\u{1F619}_\u{1F972}_\u{1F60B}_\u{1F61B}_\u{1F61C}_\u{1F92A}_\u{1F61D}_\u{1F911}_\u{1F917}_\u{1F92D}_\u{1FAE2}_\u{1FAE3}_\u{1F92B}_\u{1F914}_\u{1FAE1}_\u{1F910}_\u{1F928}_\u{1F610}_\u{1F611}_\u{1F636}_\u{1FAE5}_\u{1F636}\u200D\u{1F32B}\uFE0F_\u{1F636}\u200D\u{1F32B}_\u{1F60F}_\u{1F612}_\u{1F644}_\u{1F62C}_\u{1F62E}\u200D\u{1F4A8}_\u{1F925}_\u{1F60C}_\u{1F614}_\u{1F62A}_\u{1F924}_\u{1F634}_\u{1F637}_\u{1F912}_\u{1F915}_\u{1F922}_\u{1F92E}_\u{1F927}_\u{1F975}_\u{1F976}_\u{1F974}_\u{1F635}_\u{1F635}\u200D\u{1F4AB}_\u{1F92F}_\u{1F920}_\u{1F973}_\u{1F978}_\u{1F60E}_\u{1F913}_\u{1F9D0}_\u{1F615}_\u{1FAE4}_\u{1F61F}_\u{1F641}_\u{1F62E}_\u{1F62F}_\u{1F632}_\u{1F633}_\u{1F97A}_\u{1F979}_\u{1F626}_\u{1F627}_\u{1F628}_\u{1F630}_\u{1F625}_\u{1F622}_\u{1F62D}_\u{1F631}_\u{1F616}_\u{1F623}_\u{1F61E}_\u{1F613}_\u{1F629}_\u{1F62B}_\u{1F971}_\u{1F624}_\u{1F621}_\u{1F620}_\u{1F92C}_\u{1F608}_\u{1F47F}_\u{1F480}_\u{1F4A9}_\u{1F921}_\u{1F479}_\u{1F47A}_\u{1F47B}_\u{1F47D}_\u{1F47E}_\u{1F916}_\u{1F63A}_\u{1F638}_\u{1F639}_\u{1F63B}_\u{1F63C}_\u{1F63D}_\u{1F640}_\u{1F63F}_\u{1F63E}_\u{1F648}_\u{1F649}_\u{1F64A}_\u{1F44C}_\u{1F44D}_\u{1F91D}_\u{1F64F}_\u{1F4AA}_\u{1F337}_\u{1F33A}_\u{1F339}_\u{1F48B}_\u{1F48C}_\u{1F498}_\u{1F49D}_\u{1F496}_\u{1F497}_\u{1F493}_\u{1F49E}_\u{1F495}_\u{1F49F}_\u{1F494}_\u2764\uFE0F\u200D\u{1F525}_\u2764\u200D\u{1F525}_\u2764\uFE0F\u200D\u{1FA79}_\u2764\u200D\u{1FA79}_\u{1F9E1}_\u{1F49B}_\u{1F49A}_\u{1F499}_\u{1F49C}_\u{1F90E}_\u{1F5A4}_\u{1F90D}_\u{1F4AF}_\u{1F4A2}_\u2705".split("_")},Je={props:[],watch:{now(t){this.$emit("changeEmojiTab",t)}},data(){return{now:0,tabs:[{txt:"\u5168\u90E8",v:0},{txt:"\u9EC4\u8C46",v:1},{txt:"\u7B26\u53F7",v:2},{txt:"\u4EBA\u7269",v:3},{txt:"\u52A8\u7269",v:4},{txt:"\u8F66\u623F",v:5},{txt:"\u65D7\u5E1C",v:6}]}},methods:{}},Qe={class:"emoji-panner-tabs"},We=["onClick"];function Xe(t,e,c,d,r,n){return s(),o("div",null,[_("ul",Qe,[(s(!0),o(f,null,$(r.tabs,(i,a)=>(s(),o("li",{key:a,class:h(["hand",{"ept-active":r.now==i.v}]),onClick:m=>r.now=i.v},[_("div",null,g(i.txt),1)],10,We))),128))])])}const Ze=l(Je,[["render",Xe]]),ts={components:{CpEmojiPannerTabs:Ze},methods:{chooise(t){this.$emit("send_emoji",t)}},props:["open"],data(){return{ems:[],often:[]}},mounted(){this.ems=qe.default,this.often=[this.ems[0]]}},es={class:"emoji-inner"},ss={class:"emoji-aii"},ns=["onClick"],os={class:"hand"},is=_("br",null,null,-1);function cs(t,e,c,d,r,n){const i=u("cp-emoji-panner-tabs");return s(),o("div",{class:h(["emoji-panner attch-bar",{"ab-active":c.open}])},[p(i),_("div",es,[_("ul",ss,[(s(!0),o(f,null,$(r.ems,(a,m)=>(s(),o("li",{key:m,onClick:y=>n.chooise(a)},[_("span",os,g(a),1)],8,ns))),128))]),is])],2)}const _s=l(ts,[["render",cs]]),rs={components:{CpChatPotCont:Ue,CpChatPotInputArea:Qt,HimRefreshMsgs:Ye,CpEmojiPanner:_s,CpTempSendPanner:F},props:{chtr:{type:Object}},data(){return{tabs:0}},computed:{phoned(){const t=this.pina().chatter;return t?t.phone_number:""},words(){return this.pina().chat_ioc_words(this.chtr)},pot(){return document.getElementById("pot_"+this.$.uid)}},mounted(){this.down(),document.getElementById("pot_"+this.$.uid).addEventListener("scroll",t=>{const e=t.target.scrollTop;t.target.scrollHeight-e>800&&this.$emit("showFunc")})},methods:{open_Tab(t){this.tabs==t?this.tabs=0:this.tabs=t},insert_emoji(t){this.$refs.areaREF.insert_emoji(t),this.tabs=0,console.log("\u5173\u95ED tab",this.tabs)},insert_words(t){this.pina().insert_words(t,this.phoned)},async say(t){this.down(),t.phone_number=this.phoned,this.insert_words(t),this.down();try{await this.pina().say(this,t)}catch{}await this.$refs.reREF.refresh(),this.down()},down(){setTimeout(()=>{this.pot.scrollTop=this.pot.scrollHeight},1)}}},as={class:"chat-pot-paner ps-r"},ds=["id"];function us(t,e,c,d,r,n){const i=u("cp-chat-pot-cont"),a=u("cp-chat-pot-input-area"),m=u("him-refresh-msgs"),y=u("cp-emoji-panner"),w=u("cp-temp-send-panner");return s(),o("div",as,[_("div",{id:"pot_"+t.$.uid},[n.words?(s(),b(i,{key:0,msgs:n.words},null,8,["msgs"])):v("",!0)],8,ds),_("nav",null,[p(a,{onOpenTab:n.open_Tab,ref:"areaREF",onSend:n.say},null,8,["onOpenTab","onSend"])]),p(m,{onSign:n.down,ref:"reREF"},null,8,["onSign"]),p(y,{open:r.tabs==1,onSend_emoji:n.insert_emoji},null,8,["open","onSend_emoji"]),p(w,{onCiose:n.open_Tab,open:r.tabs==2},null,8,["onCiose","open"])])}const ms=l(rs,[["render",us]]),ls={components:{CpChatPotPaner:ms,CpChatTopUserDetailBar:$t,EosFuncGoDown:Z},props:["chatter"],data(){return{func:!1}},watch:{func(t){t&&setTimeout(e=>this.func=!1,4800)}},methods:{goDown(){this.$refs.potREF.down(),this.func=!1},showFunc(){this.func=!0}}};function ps(t,e,c,d,r,n){const i=u("cp-chat-top-user-detail-bar"),a=u("cp-chat-pot-paner"),m=u("eos-func-go-down");return s(),o("div",null,[p(i,{class:"chat-top-bar"}),p(a,{onShowFunc:n.showFunc,ref:"potREF",chtr:c.chatter},null,8,["onShowFunc","chtr"]),r.func?(s(),b(m,{key:0,class:"upper",onDown:n.goDown},null,8,["onDown"])):v("",!0)])}const hs=l(ls,[["render",ps]]),fs={components:{RoomIayout:E,CpChatCard:hs,CpGallary:T},data(){return{}},computed:{rooms(){return this.pina().rooms},rooms_convert(){let t=[];for(let e in this.rooms)t.push(e);return t},chatter_phone_number(){let t=this.pina().chatter;return t?t.phone_number:null}},mounted(){console.log("\u6240\u6709\u804A\u5929 =",this.rooms)}},$s={class:"chat_room_card_wrapper"};function gs(t,e,c,d,r,n){const i=u("cp-chat-card"),a=u("cp-gallary"),m=u("room-iayout");return s(),b(m,null,{L:x(()=>[k(t.$slots,"default")]),R:x(()=>[_("nav",$s,[(s(!0),o(f,null,$(n.rooms_convert,(y,w)=>(s(),o("div",{class:h({"chat_room_card-show":y==n.chatter_phone_number}),key:w},[y?(s(),b(i,{key:0,chatter:{phone_number:y}},null,8,["chatter"])):v("",!0)],2))),128))]),p(a)]),_:3})}const ys=l(fs,[["render",gs]]),vs={components:{RoomIayout:E,ChatRoom:ys,CpGallary:T}};function bs(t,e,c,d,r,n){const i=u("router-view"),a=u("chat-room");return s(),b(a,{class:"room-page for-chat-top"},{default:x(()=>[p(i)]),_:1})}const xs=l(vs,[["render",bs]]);export{xs as default};
