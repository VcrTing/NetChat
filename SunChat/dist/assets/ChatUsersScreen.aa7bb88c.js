import{_ as l,o as n,c as r,a as t,b as y,n as v,d as i,k as m,g as f,t as $,E as b,e as C,f as u,i as w,v as E,F as U,r as S,h as D,m as M}from"./index.7ae1373f.js";import{T}from"./TookitSpoonTimed.758c7a6f.js";const R={props:["_cis"]},B={class:"ui-droptap ui-droptap-anime"},N={class:"droptap-inner"};function V(s,o,c,d,_,e){return n(),r("nav",B,[t("div",{class:v(["droptap-trig",c._cis])},[y(s.$slots,"trig")],2),t("div",N,[y(s.$slots,"cont")])])}const x=l(R,[["render",V]]);const z={components:{UiDropTap:x},props:["open"],methods:{cioseDrop(){this.$emit("ciose")}}},F=t("span",null,[t("i",{class:"fa-solid fa-angle-down"})],-1),L=t("nav",{class:"py"},[t("button",null,"read it all"),t("button",null,"trash talk")],-1);function O(s,o,c,d,_,e){const a=i("ui-drop-tap");return n(),m(a,{class:"user-room-droptap"},{trig:f(()=>[F]),cont:f(()=>[L]),_:1})}const A=l(z,[["render",O]]);const J={props:{text:{type:String}}},P={class:"thd"};function j(s,o,c,d,_,e){return n(),r("div",P,$(c.text),1)}const q=l(J,[["render",j]]);const G={components:{EosChatUserDropMenu:A,EosUserAvatarDef:b,TookitSpoonTimed:T,EosUserRcMuteMsg:q},props:["chatter","msgs"],data(){return{drop:!1}},methods:{editDrop(){this.drop=!this.drop}},computed:{cher(){return this.chatter},reciever(){return this.pina().chatter},is_now(){return this.cher?this.cher.phone_number==this.reciever.phone_number:!1},name_avatar(){const s=this.cher?this.cher.profile_name:"";return s?s.substring(0,1):""},iast_msg(){let s=this.msgs;s=s||[];let o=s.length;return o=o?o-1:0,s[o]}}},H=t("span",{class:"pl"},null,-1),I={class:"user-avatar fx-c"},K={key:1},Q={class:""},W={key:1},X=t("span",{class:"px_s"},null,-1),Y={class:"t-l fx-1"},Z={class:"fx-s"},ss={class:"fs_s sub"},es={class:"fx-s"},ts={class:"fs_s"},os={key:1};function ns(s,o,c,d,_,e){const a=i("eos-user-avatar-def"),p=i("tookit-spoon-timed"),g=i("eos-user-rc-mute-msg"),h=i("eos-chat-user-drop-menu");return e.cher?(n(),r("nav",{key:0,class:v(["eos-user-room-card fx-s",{"bg-def":e.is_now}])},[H,t("div",I,[e.cher.avatar?(n(),r("div",{key:0,style:C({background:"url("+e.cher.avatar+")","background-size":"cover","background-repeat":"no-repeat","background-position":"center"})},null,4)):(n(),r("div",K,[e.name_avatar?(n(),r("div",{key:0,class:v(["user-avatar user-def-avatar bg-avatar",{"bg-avatar":!e.is_now,"bg-avatar":e.is_now}])},[t("span",Q,$(e.name_avatar),1)],2)):(n(),r("div",W,[u(a,{class:"w-100"})]))]))]),X,t("nav",Y,[t("div",Z,[t("div",null,$(e.cher.profile_name?e.cher.profile_name:"\u672A\u77E5\u7528\u6236(\u5C0D\u65B9\u672A\u56DE\u5FA9)"),1),t("div",ss,[u(p,{_timed:e.iast_msg.date_time,mode:2},null,8,["_timed"])])]),t("nav",es,[u(g,{text:e.cher.phone_number},null,8,["text"]),t("div",ts,[u(h,{open:_.drop,onCiose:e.editDrop},null,8,["open","onCiose"])])])])],2)):(n(),r("div",os))}const rs=l(G,[["render",ns]]),cs={data(){return{word:"",is_sort:!1}},watch:{word(s){this.$emit("search",s)},is_sort(s){this.$emit("sort",s)}},methods:{sort(){this.is_sort=!this.is_sort}}},as={class:"f-row eos-user-room-filter"},_s={class:"ip-i-i fx-1"},is=t("span",null,[t("i",{class:"fa-solid fa-magnifying-glass"})],-1),ds={key:0,class:"fa-solid fa-arrow-down-short-wide"},ls={key:1,class:"fa-solid fa-arrow-down-wide-short"};function ps(s,o,c,d,_,e){return n(),r("div",as,[t("nav",_s,[is,w(t("input",{class:"input","onUpdate:modelValue":o[0]||(o[0]=a=>_.word=a),placeholder:"\u641C\u7D22\u6216\u958B\u59CB\u65B0\u5C0D\u8A71"},null,512),[[E,_.word]])]),t("div",{onClick:o[1]||(o[1]=(...a)=>e.sort&&e.sort(...a)),class:"euef-btn-funni"},[_.is_sort?(n(),r("i",ls)):(n(),r("i",ds))])])}const us=l(cs,[["render",ps]]);const hs={},ms={class:"empty empty-contact fx-c t-c"},fs=t("div",null,[t("h6",{class:"pb_s"},"\u8054\u7EDC\u4EBA\u4E3A\u7A7A"),t("button",{class:"thd btn-txt-acc"},[t("i",{class:"fa-solid fa-plus"}),t("span",{class:"pl_s"},"\u5F00\u59CB\u65B0\u5BF9\u8BDD")])],-1),gs=[fs];function vs(s,o,c,d,_,e){return n(),r("div",ms,gs)}const $s=l(hs,[["render",vs]]),ys={components:{EosUserRoomCard:rs,EosUserRoomFilter:us,EosEmptyConact:$s},methods:{searchUser(s){console.log("\u7B5B\u9009 =",s),console.log("\u8981\u4ECE\u4E2D =",this.rooms)},sortUser(s){console.log("SORT =",s)},change(s){const o=s.phone_number;o!=this.chatter.phone_number&&(console.log("\u6539\u53D8 oid =",o),this.pina().change_chatter(o))},getMsgs(s){let o=s?s.phone_number:"",c;for(let d in this.rooms)d==o&&(c=this.rooms[d].msgs);return c||[]}},mounted(){console.log(this.contacts)},computed:{users(){},rooms(){return this.pina().rooms},chatter(){return this.pina().chatter},contacts(){let s=[];for(let o in this.rooms)s.push(this.rooms[o].chatter);return s},has_room(){let s=!0;return JSON.stringify(this.rooms)=="{}"&&(s=!1),s}}},xs={class:"chat-user-paner"},ks={key:0},bs=["onClick"];function Cs(s,o,c,d,_,e){const a=i("eos-user-room-filter"),p=i("eos-user-room-card"),g=i("eos-empty-conact");return n(),r("div",xs,[u(a,{onSearch:e.searchUser,onSort:e.sortUser},null,8,["onSearch","onSort"]),e.has_room?(n(),r("div",ks,[(n(!0),r(U,null,S(e.contacts,(h,k)=>(n(),r("div",{onClick:Os=>e.change(h),key:k},[h?(n(),m(p,{key:0,chatter:h,msgs:e.getMsgs(h)},null,8,["chatter","msgs"])):D("",!0)],8,bs))),128))])):(n(),m(g,{key:1}))])}const ws=l(ys,[["render",Cs]]);const Es={components:{UiDropTap:x},props:["open"],methods:{loginout(){this.pina().loginout(),this.$router.push("/login")},cioseDrop(){this.$emit("ciose")}}},Us=t("span",null,[t("i",{class:"fa-solid fa-ellipsis-vertical"})],-1),Ss={class:"py"};function Ds(s,o,c,d,_,e){const a=i("ui-drop-tap");return n(),m(a,{class:"setting-droptap",_cis:"fx-r"},{trig:f(()=>[Us]),cont:f(()=>[t("nav",Ss,[t("button",{onClick:o[0]||(o[0]=(...p)=>e.loginout&&e.loginout(...p))},"\u767B\u51FA")])]),_:1})}const Ms=l(Es,[["render",Ds]]),Ts={components:{EosChatSettingDropMenu:Ms,EosUserEasyCard:M},computed:{me(){return this.pina().me}}},Rs={class:"fx-l"},Bs={class:"fx-s w-100"},Ns={class:"fx-c"};function Vs(s,o,c,d,_,e){const a=i("eos-user-easy-card"),p=i("eos-chat-setting-drop-menu");return n(),r("nav",Rs,[t("nav",Bs,[u(a,{user:e.me},null,8,["user"]),t("div",Ns,[u(p)])])])}const zs=l(Ts,[["render",Vs]]),Fs={components:{ChatTbLeft:zs,CpChatUsersPaner:ws}};function Ls(s,o,c,d,_,e){const a=i("chat-tb-left"),p=i("cp-chat-users-paner");return n(),r("div",null,[u(a,{class:"chat-top-bar px"}),u(p)])}const Ps=l(Fs,[["render",Ls]]);export{Ps as default};
