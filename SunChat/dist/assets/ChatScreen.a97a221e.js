import{_ as p,o as n,c as i,a as c,F as g,r as v,n as h,b as x,E as F,d as u,e as I,t as y,f as m,w as T,g as k,h as $,i as E,v as D,j as P,k as b,l as C,m as N}from"./index.4a30bc6d.js";import{T as H}from"./TookitSpoonTimed.cbe87158.js";const B={props:["imgs"],computed:{open(){return this.pina().MODAL==1},gaiiary(){let t=[];return this.imgs||(t=this.pina().GALLARY),t}},methods:{coise(){this.pina().ciose_Modai()}}},L=c("i",{class:"fa-solid fa-xmark"},null,-1),O=[L],U={key:0,class:"gallary-imgs"},M=["src"],K={key:1,class:"gallary-loading"},z=c("h3",null,"\u52A0\u8F7D\u4E2D...",-1),G=[z];function V(t,s,r,d,_,e){return n(),i("div",{class:h(["gallary",{"gallary-active":e.open}])},[c("button",{class:"ciose h2_son py_s px_x3",onClick:s[0]||(s[0]=(...o)=>e.coise&&e.coise(...o))},O),c("div",null,[e.gaiiary&&e.gaiiary.length>0?(n(),i("nav",U,[(n(!0),i(g,null,v(e.gaiiary,(o,a)=>(n(),i("div",{key:a,class:h({pt:a>1})},[c("img",{src:o},null,8,M)],2))),128))])):(n(),i("nav",K,G))])],2)}const S=p(B,[["render",V]]),q={props:["cis_r"],computed:{panner(){return this.pina().PANNER}}},Y={class:"iayout-room fx-t"},J={class:"room-L"};function Q(t,s,r,d,_,e){return n(),i("div",Y,[c("div",J,[x(t.$slots,"L")]),c("div",{class:h(["room-R",r.cis_r])},[x(t.$slots,"R")],2),c("div",{class:h(["room-D",{"room-D-active":e.panner==1}])},[x(t.$slots,"D")],2)])}const j=p(q,[["render",Q]]),W={name:"",data(){return{is_down:!0,screenH:0,show:!1}},mounted(){this.screenH=window.screen.height,window.addEventListener("scroll",this.handleScroll,!0)},methods:{handleScroll(){(document.documentElement.scrollTop||document.body.scrollTop)>this.screenH-300?this.is_down=!1:this.is_down=!0,this.show=document.body.offsetHeight>this.screenH},toDis(){this.is_down?this.toDown():this.toTop(),this.is_down=!this.is_down},toTop(){let t=document.documentElement.scrollTop||document.body.scrollTop;const s=setInterval(()=>{document.body.scrollTop=document.documentElement.scrollTop=t-=50,t<=0&&(clearInterval(s),this.$emit("finish_Father"))},10)},toDown(){window.scrollTo(0,document.body.scrollHeight)}}},X=c("i",{class:"fa-solid fa-angle-down sus"},null,-1),Z=[X];function tt(t,s,r,d,_,e){return n(),i("button",{class:h(["eos-func-dis-btn",{"turn-bown":_.is_down,"turn-up":!_.is_down}]),onClick:s[0]||(s[0]=o=>t.$emit("down"))},Z,2)}const et=p(W,[["render",tt]]),st={components:{EosUserAvatarDef:F},props:["user"],computed:{name_avatar(){const t=this.user?this.user.profile_name:"";return t?t.substring(0,1):""}},methods:{open(){this.pina().open_Panner(1)}}},nt={class:"user-avatar fx-c"},ot={key:1},it={key:0,class:"user-avatar user-def-avatar bg-avatar"},ct={class:""},rt={key:1},_t=c("span",{class:"px_s"},null,-1),at={class:"t-l fx-1"},dt={class:"fx-s pl_s"},ut={key:1};function pt(t,s,r,d,_,e){const o=u("eos-user-avatar-def");return r.user&&r.user.profile_name?(n(),i("nav",{key:0,onClick:s[0]||(s[0]=(...a)=>e.open&&e.open(...a)),class:"eos-user-room-easy-card fx-s"},[c("div",nt,[r.user.avatar?(n(),i("div",{key:0,style:I({background:"url("+r.user.avatar+")","background-size":"cover","background-repeat":"no-repeat","background-position":"center"})},null,4)):(n(),i("div",ot,[e.name_avatar?(n(),i("div",it,[c("span",ct,y(e.name_avatar),1)])):(n(),i("div",rt,[m(o,{class:"w-100"})]))]))]),_t,c("nav",at,[c("div",dt,[c("div",null,y(r.user.profile_name),1)])])])):(n(),i("div",ut))}const lt=p(st,[["render",pt]]),mt={components:{EosUserRoomEasyCard:lt},computed:{me(){return this.pina().chatter}}},ht={class:"fx-s"},ft=c("div",null,null,-1);function $t(t,s,r,d,_,e){const o=u("eos-user-room-easy-card");return n(),i("div",ht,[m(o,{user:e.me},null,8,["user"]),ft])}const gt=p(mt,[["render",$t]]),yt={data(){return{param1:["{{1}}","{{ 1 }}"]}},methods:{is_Param_Temp(t){let s=!1;return t.map(r=>{r=r.text?r.text:"",this.param1.map(d=>{r.indexOf(d)>-1&&(s=!0)})}),s},async _send(t,s,r,d){return await this.serv.send_Tempiate(this,t,{name:s,recipient:r,components:d})},async send_Tempiate(t,s){const r=s.name,d=s.language,_=s.components,e=this.is_Param_Temp(_),o={iang:d,named:r,to:t,components:e?this.buiid_Params(_):_};this.$emit("send_started",o);try{e?await this._send(o.iang,o.named,o.to,o.components):(o.components=null,await this._send(o.iang,o.named,o.to,o.components))}catch(a){console.log("\u6A21\u7248\u53D1\u9001\u5931\u8D25 =",a)}},buiid_Params(t){let s=[];return t.map(r=>{s.push({type:r.type,parameters:[{type:"text",text:"\u6D4B\u8BD5\u53C2\u6570\u4E00"},{type:"text",text:"\u6D4B\u8BD5\u53C2\u6570\u4E8C"}]})}),s}}};function vt(t,s,r,d,_,e){return null}const bt=p(yt,[["render",vt]]),wt={components:{NetTempiateSend:bt},props:["many"],mounted(){},computed:{chatter(){return this.pina().chatter}},methods:{sendStarted(t){this.$emit("send_temp",t)},geText(t){let s="";return t.components&&(s=t.components[0].text),s},async chooise(t){const s=this.chatter.phone_number;s&&await this.$refs.ntsREF.send_Tempiate(s,t)}}},kt={class:"eos-tsi-wrapper"},xt={class:"px py_s"},Ct={class:"t-elip_x3"},Tt={class:"fx-r"},Et=["onClick"];function Dt(t,s,r,d,_,e){const o=u("net-tempiate-send");return n(),i("div",kt,[(n(!0),i(g,null,v(r.many,(a,l)=>(n(),i("div",{class:h(["eos-tempiate-send-item","ani-eos-right_"+l]),key:l},[c("div",null,[c("button",xt,[c("span",Ct,y(e.geText(a)),1)]),c("div",Tt,[c("button",{class:"btn-send",onClick:f=>e.chooise(a)},"\u53D1\u9001",8,Et)])])],2))),128)),m(o,{onSend_started:e.sendStarted,ref:"ntsREF"},null,8,["onSend_started"])])}const Ft=p(wt,[["render",Dt]]),St={watch:{iang(t){this.$emit("funni",this.res())},cate(t){this.$emit("funni",this.res())}},mounted(){this.$emit("funni",this.res())},data(){return{iang:"zh_HK",cate:"MARKETING",iangs:[{txt:"HK",iang:"zh_HK",v:0},{txt:"CN",iang:"zh_CN",v:1},{txt:"EN",iang:"en",v:2}],cates:[{txt:"\u5E02\u573A",cate:"MARKETING",v:1},{txt:"\u63D0\u9192\u670D\u52A1",cate:"TRANSACTIONAL",v:0}]}},methods:{res(){return[this.cate,this.iang]}}},jt={class:"temp-filter-bar"},Rt={class:"tfb-cate"},At=["onClick"],It={class:""},Pt={class:"tfb-tag"},Nt=["onClick"];function Ht(t,s,r,d,_,e){return n(),i("div",jt,[c("nav",Rt,[(n(!0),i(g,null,v(_.cates,(o,a)=>(n(),i("button",{class:h({active:_.cate==o.cate}),key:a,onClick:T(l=>_.cate=o.cate,["stop"])},y(o.txt),11,At))),128))]),c("div",It,[c("div",Pt,[(n(!0),i(g,null,v(_.iangs,(o,a)=>(n(),i("button",{class:h({active:_.iang==o.iang}),key:a,onClick:T(l=>_.iang=o.iang,["stop"])},y(o.txt),11,Nt))),128))])])])}const Bt=p(St,[["render",Ht]]),Lt={components:{CpTempFilterBar:Bt,EosTempiateSendItem:Ft},props:["open","_chtr"],data(){return{items:[]}},watch:{temps(t){this.funniTemps(this.$refs.temp_f_bar.res())}},computed:{temps(){return this.pina().tempiates},chatter(){return this.pina().chatter}},methods:{sendTemp(t){const s=this.back.temp.buiid_virtuai_msg(t.iang,t.named,t.to,t.components,this.chatter);s.from_ioc=!0,this.pina().insert_tempiate(s,this.chatter.phone_number),this.$emit("ciose"),this.$emit("toDown")},funniTemps(t){let s=[];if(this.temps){const r=t[0],d=t[1];this.temps.map(_=>{_.category==r&&_.language==d&&s.push(_)}),this.items=s}}}},Ot={class:"temp-inner"},Ut={key:0,class:"bars"},Mt={key:0},Kt=c("br",null,null,-1);function zt(t,s,r,d,_,e){const o=u("cp-temp-filter-bar"),a=u("eos-tempiate-send-item");return n(),i("div",{class:h(["temp-panner attch-bar",{"ab-active":r.open}])},[m(o,{ref:"temp_f_bar",onClick:s[1]||(s[1]=l=>t.$emit("ciose")),onFunni:e.funniTemps},{default:k(()=>[c("button",{class:"temp-btn",onClick:s[0]||(s[0]=T(l=>t.$emit("ciose"),["stop"]))},"\u5173\u95ED")]),_:1},8,["onFunni"]),c("div",Ot,[e.temps?(n(),i("div",Ut,[_.items&&_.items.length>0?(n(),i("div",Mt,[m(a,{onSend_temp:e.sendTemp,many:_.items},null,8,["onSend_temp","many"])])):$("",!0)])):$("",!0),Kt])],2)}const R=p(Lt,[["render",zt]]),Gt={props:["can_taik"],components:{CpTempSendSwitch:R},methods:{tapInput(){this.can_taik||this.$emit("openTab",2)},insert_emoji(t){this.word=this.word+t,console.log("\u63D2\u5165 \u8868\u60C5\u5305 =",this.word)},buiid(){return{type:"text",direction:"send",message:this.vaiid()}},submit(){this.$emit("send",this.buiid()),this.word=""},vaiid(){return this.word.trim().replace("\\","")}},watch:{word_nuii(t){this.word_nuii=""}},data(){return{word:"",word_nuii:""}}},Vt={class:"chat-pot-input-area fx-s fx-b"},qt={class:"fx-s"},Yt=c("i",{class:"fa-regular fa-face-grin-beam"},null,-1),Jt=[Yt],Qt=c("i",{class:"fa-regular fa-message"},null,-1),Wt=[Qt],Xt={class:"fx-1 py_s pl_n"};function Zt(t,s,r,d,_,e){return n(),i("div",Vt,[c("nav",qt,[c("nav",{class:"h3 px",onClick:s[0]||(s[0]=o=>t.$emit("openTab",1))},Jt),c("nav",{class:"h3 px",onClick:s[1]||(s[1]=o=>t.$emit("openTab",2))},Wt)]),c("div",Xt,[r.can_taik?E((n(),i("input",{key:0,onClick:s[2]||(s[2]=(...o)=>e.tapInput&&e.tapInput(...o)),"onUpdate:modelValue":s[3]||(s[3]=o=>_.word=o),onKeyup:s[4]||(s[4]=P(o=>e.submit(),["enter"])),placeholder:"\u8F38\u5165\u6D88\u606F"},null,544)),[[D,_.word]]):E((n(),i("input",{key:1,onClick:s[5]||(s[5]=(...o)=>e.tapInput&&e.tapInput(...o)),"onUpdate:modelValue":s[6]||(s[6]=o=>_.word_nuii=o),placeholder:"\u767C\u9001\u6D88\u606F\u6A21\u7248"},null,512)),[[D,_.word_nuii]])])])}const te=p(Gt,[["render",Zt]]),ee={},se=c("br",null,null,-1),ne=c("br",null,null,-1),oe=c("div",{class:"eos-rs-iimit"},[c("nav",null,[c("button",null,[c("span",null,"\u8A72\u6703\u8A71\u5DF2\u8D85\u6642")])])],-1),ie=c("br",null,null,-1),ce=c("br",null,null,-1),re=c("br",null,null,-1),_e=c("br",null,null,-1);function ae(t,s,r,d,_,e){return n(),i(g,null,[se,ne,oe,ie,ce,re,_e],64)}const de=p(ee,[["render",ae]]),ue={props:["medias"]},pe=c("div",{class:"pb_s sub"},"\u6587\u4EF6",-1),le=["href"];function me(t,s,r,d,_,e){return n(),i("p",null,[pe,(n(!0),i(g,null,v(r.medias,(o,a)=>(n(),i("a",{key:a,target:"_blank",href:t.conf.API+o.origin},y(o.name),9,le))),128))])}const he=p(ue,[["render",me]]),fe={props:["medias"],mounted(){},methods:{open(t){t&&(t=this.conf.API+t,this.pina().gaiiary([t]),this.pina().open_Modai(1))}}},$e=["src"],ge=["onClick"];function ye(t,s,r,d,_,e){return n(!0),i(g,null,v(r.medias,(o,a)=>(n(),i("nav",{key:a,class:"spoon-img-wrapper"},[c("img",{src:t.conf.API+o.smaii},null,8,$e),c("div",null,[c("button",{onClick:l=>e.open(o.origin)},"\u6253\u5F00",8,ge)])]))),128)}const ve=p(fe,[["render",ye]]),be={props:["comps"],mounted(){},methods:{typed(t){let s=0;return t.type&&t.type=="BUTTONS"&&(s=3),s}}},we={class:"eos-csc-t eos-csc-t-confirm"},ke={class:"t_confirm-cont"};function xe(t,s,r,d,_,e){return n(),i("div",we,[c("p",ke,[(n(!0),i(g,null,v(r.comps,(o,a)=>(n(),i("div",{key:a},[e.typed(o)!=3?(n(),i("div",{key:0,class:h("t_confirm-"+o.type)},y(o.text),3)):$("",!0)]))),128))]),(n(!0),i(g,null,v(r.comps,(o,a)=>(n(),i("div",{key:a},[e.typed(o)==3?(n(),i("div",{key:0,class:h("t_confirm-"+o.type)},[(n(!0),i(g,null,v(o.buttons,(l,f)=>(n(),i("button",{key:f},y(l.text),1))),128))],2)):$("",!0)]))),128))])}const Ce=p(be,[["render",xe]]),Te={props:["detaii"],data(){return{named:"",iang:"",temp:null}},computed:{cont(){let t=this.temp;return t&&(t=t.components?t.components:[],t.map(s=>{s.type=="BODY"&&(t=s.text)})),t},body(){let t=this.detaii.template;if(t)return t=t.components,this.pina().text_of_params(t,this.cont)}},mounted(){this.named=this.get_named(),this.iang=this.get_iang(),this.detaii&&(this.temp=this.pina().ioc_tempiate(this.named,this.iang))},methods:{get_named(){let t=this.detaii.template;return t?t.name:""},get_iang(){let t=this.detaii.template;return t=t?t.language:void 0,t?t.code:""}}};function Ee(t,s,r,d,_,e){return n(),i("p",null,y(e.body),1)}const De=p(Te,[["render",Ee]]),Fe={components:{EosCscTConfirm:Ce,EosCscTCont:De},props:["_item"],computed:{tempiates(){return this.pina().tempiates},detaii(){return this._item.send_detail},compos(){if(this.detaii)return this.detaii.template?this.detaii.template.components:null},has_button(){return this.back.temp.has_button(this.compos)}},mounted(){},methods:{}},Se={key:0},je={key:1},Re={key:0},Ae={key:1};function Ie(t,s,r,d,_,e){const o=u("eos-csc-t-confirm"),a=u("eos-csc-t-cont");return e.detaii?(n(),i("div",Se,[e.has_button?(n(),b(o,{key:0,comps:e.compos},null,8,["comps"])):(n(),i("div",je,[e.tempiates&&e.tempiates.length>0?(n(),i("div",Re,[m(a,{detaii:e.detaii},null,8,["detaii"])])):$("",!0)]))])):(n(),i("p",Ae," \u5C55\u793A\u6A21\u7248 "))}const Pe=p(Fe,[["render",Ie]]);const Ne={components:{EosCscFile:he,EosCscTemp:Pe,EosCscImg:ve},props:["item","type","direction"],methods:{media(){return this.item.media}},computed:{is_one_emoji(){let t=this.item.message,s=!1;return t&&t.length>2?!1:(s=/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/ig.test(t),s)},is_me(){return this.direction!="receive"},is_smaii_iong(){const t=this.item.is_iong?0:this.item.iong_minute;return t?t>2:!1},which(){return this.type=="text"?1:this.type=="sticker"?2:this.type=="image"?3:this.type=="document"?4:this.type=="location"?5:this.type=="contacts"?6:this.type=="template"?7:0},need_taii(){let t=this.which==1||this.which==4||this.which==7;return this.is_one_emoji?!1:t},night(){let t=this.item.date_time;t=t?C(this.item.date_time):C();let s=Number.parseInt(t.format("HH"));return s<=12?s="\u4E0A\u5348":18>s&&s>12?s="\u4E0B\u5348":s>=18&&(s="\u665A\u4E0A"),s+t.format("m:ss")}}},He={key:0},Be={key:1},Le={class:"fs_s sub fix-tip"},Oe=c("span",null,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0",-1),Ue={class:"_fix-tip t-r"},Me=["src"],Ke={key:4,class:"spoon-fiie"},ze={key:5},Ge={key:6,class:"spoon-taii"},Ve=c("span",null,"O",-1),qe=[Ve];function Ye(t,s,r,d,_,e){const o=u("eos-csc-img"),a=u("eos-csc-file"),l=u("eos-csc-temp");return n(),i("nav",{class:h(["msg-spoon ps-r",{"msg-spoon-me":e.is_me,"spoon-iong-smaii":e.is_smaii_iong,mt:e.which>1}])},[e.which<=1?(n(),i("p",{key:0,class:h({"spoon-one-emoji":e.is_one_emoji})},[r.item.message?(n(),i("span",He,y(r.item.message),1)):(n(),i("span",Be,"\xA0")),c("span",Le,[Oe,c("span",Ue,y(e.night),1)])],2)):e.which==2?(n(),i("div",{key:1,class:h(["spoon-emoji",{"spoon-more":e.media().length>1}])},[(n(!0),i(g,null,v(e.media(),(f,w)=>(n(),i("img",{key:w,src:t.conf.API+f.smaii},null,8,Me))),128))],2)):e.which==3?(n(),i("div",{key:2,class:h(["spoon-img",{"spoon-img-more":e.media().length>1}])},[m(o,{medias:e.media()},null,8,["medias"])],2)):e.which==4?(n(),i("div",{key:3,class:h(["spoon-fiie",{"spoon-fiie-more":e.media().length>=1}])},[m(a,{medias:e.media()},null,8,["medias"])],2)):e.which==7?(n(),i("div",Ke,[m(l,{_item:r.item},null,8,["_item"])])):(n(),i("div",ze," \xA0 ")),e.need_taii?(n(),i("span",Ge,qe)):$("",!0)],2)}const Je=p(Ne,[["render",Ye]]),Qe={props:{timed:{type:String}},components:{TookitSpoonTimed:H}},We={class:"msg-spoon-timed"};function Xe(t,s,r,d,_,e){const o=u("tookit-spoon-timed");return n(),i("div",We,[m(o,{_timed:r.timed},null,8,["_timed"])])}const Ze=p(Qe,[["render",Xe]]),ts={components:{EosChatSpoonCont:Je,EosChatSpoonTimed:Ze,EosRoomSpliteLimit:de},props:{msgs:{type:Array},_chtr:{type:Object},can_taik:{type:Boolean}},computed:{sering_msgs(){return this.msgs.map(t=>t)}},methods:{}},es={key:0},ss=c("div",{class:"msg-spoon-space"},null,-1);function ns(t,s,r,d,_,e){const o=u("eos-chat-spoon-timed"),a=u("eos-chat-spoon-cont"),l=u("eos-room-splite-limit");return r.msgs?(n(),i("div",es,[(n(!0),i(g,null,v(e.sering_msgs,(f,w)=>(n(),i("div",{key:w},[c("nav",null,[f.is_iong?(n(),b(o,{key:0,timed:f.date_time},null,8,["timed"])):$("",!0),f?(n(),b(a,{key:1,item:f,type:f.type,direction:f.direction},null,8,["item","type","direction"])):$("",!0)])]))),128)),r.can_taik?$("",!0):(n(),b(l,{key:0})),ss])):$("",!0)}const os=p(ts,[["render",ns]]),is={methods:{async refresh(){await this.pina().refresh(this),console.log("\u8054\u7EDC\u4EBA =",this.pina().users),this.$emit("sign")}}};function cs(t,s,r,d,_,e){return null}const rs=p(is,[["render",cs]]),_s={default:"\u{1F600}_\u{1F603}_\u{1F604}_\u{1F601}_\u{1F606}_\u{1F605}_\u{1F923}_\u{1F602}_\u{1F642}_\u{1F643}_\u{1FAE0}_\u{1F609}_\u{1F60A}_\u{1F607}_\u{1F970}_\u{1F60D}_\u{1F929}_\u{1F618}_\u{1F617}_\u{1F61A}_\u{1F619}_\u{1F972}_\u{1F60B}_\u{1F61B}_\u{1F61C}_\u{1F92A}_\u{1F61D}_\u{1F911}_\u{1F917}_\u{1F92D}_\u{1FAE2}_\u{1FAE3}_\u{1F92B}_\u{1F914}_\u{1FAE1}_\u{1F910}_\u{1F928}_\u{1F610}_\u{1F611}_\u{1F636}_\u{1FAE5}_\u{1F636}\u200D\u{1F32B}\uFE0F_\u{1F636}\u200D\u{1F32B}_\u{1F60F}_\u{1F612}_\u{1F644}_\u{1F62C}_\u{1F62E}\u200D\u{1F4A8}_\u{1F925}_\u{1F60C}_\u{1F614}_\u{1F62A}_\u{1F924}_\u{1F634}_\u{1F637}_\u{1F912}_\u{1F915}_\u{1F922}_\u{1F92E}_\u{1F927}_\u{1F975}_\u{1F976}_\u{1F974}_\u{1F635}_\u{1F635}\u200D\u{1F4AB}_\u{1F92F}_\u{1F920}_\u{1F973}_\u{1F978}_\u{1F60E}_\u{1F913}_\u{1F9D0}_\u{1F615}_\u{1FAE4}_\u{1F61F}_\u{1F641}_\u{1F62E}_\u{1F62F}_\u{1F632}_\u{1F633}_\u{1F97A}_\u{1F979}_\u{1F626}_\u{1F627}_\u{1F628}_\u{1F630}_\u{1F625}_\u{1F622}_\u{1F62D}_\u{1F631}_\u{1F616}_\u{1F623}_\u{1F61E}_\u{1F613}_\u{1F629}_\u{1F62B}_\u{1F971}_\u{1F624}_\u{1F621}_\u{1F620}_\u{1F92C}_\u{1F608}_\u{1F47F}_\u{1F480}_\u{1F4A9}_\u{1F921}_\u{1F479}_\u{1F47A}_\u{1F47B}_\u{1F47D}_\u{1F47E}_\u{1F916}_\u{1F63A}_\u{1F638}_\u{1F639}_\u{1F63B}_\u{1F63C}_\u{1F63D}_\u{1F640}_\u{1F63F}_\u{1F63E}_\u{1F648}_\u{1F649}_\u{1F64A}_\u{1F44C}_\u{1F44D}_\u{1F91D}_\u{1F64F}_\u{1F4AA}_\u{1F337}_\u{1F33A}_\u{1F339}_\u{1F48B}_\u{1F48C}_\u{1F498}_\u{1F49D}_\u{1F496}_\u{1F497}_\u{1F493}_\u{1F49E}_\u{1F495}_\u{1F49F}_\u{1F494}_\u2764\uFE0F\u200D\u{1F525}_\u2764\u200D\u{1F525}_\u2764\uFE0F\u200D\u{1FA79}_\u2764\u200D\u{1FA79}_\u{1F9E1}_\u{1F49B}_\u{1F49A}_\u{1F499}_\u{1F49C}_\u{1F90E}_\u{1F5A4}_\u{1F90D}_\u{1F4AF}_\u{1F4A2}_\u2705".split("_")},as={props:[],watch:{now(t){this.$emit("changeEmojiTab",t)}},data(){return{now:0,tabs:[{txt:"\u5168\u90E8",v:0},{txt:"\u9EC4\u8C46",v:1},{txt:"\u7B26\u53F7",v:2},{txt:"\u4EBA\u7269",v:3},{txt:"\u52A8\u7269",v:4},{txt:"\u8F66\u623F",v:5},{txt:"\u65D7\u5E1C",v:6}]}},methods:{}},ds={class:"emoji-panner-tabs"},us=["onClick"];function ps(t,s,r,d,_,e){return n(),i("div",null,[c("ul",ds,[(n(!0),i(g,null,v(_.tabs,(o,a)=>(n(),i("li",{key:a,class:h(["hand",{"ept-active":_.now==o.v}]),onClick:l=>_.now=o.v},[c("div",null,y(o.txt),1)],10,us))),128))])])}const ls=p(as,[["render",ps]]),ms={components:{CpEmojiPannerTabs:ls},methods:{chooise(t){this.$emit("send_emoji",t)}},props:["open"],data(){return{ems:[],often:[]}},mounted(){this.ems=_s.default,this.often=[this.ems[0]]}},hs={class:"emoji-inner"},fs={class:"emoji-aii"},$s=["onClick"],gs={class:"hand"},ys=c("br",null,null,-1);function vs(t,s,r,d,_,e){const o=u("cp-emoji-panner-tabs");return n(),i("div",{class:h(["emoji-panner attch-bar",{"ab-active":r.open}])},[m(o),c("div",hs,[c("ul",fs,[(n(!0),i(g,null,v(_.ems,(a,l)=>(n(),i("li",{key:l,onClick:f=>e.chooise(a)},[c("span",gs,y(a),1)],8,$s))),128))]),ys])],2)}const bs=p(ms,[["render",vs]]),ws={components:{CpChatPotCont:os,CpChatPotInputArea:te,HimRefreshMsgs:rs,CpEmojiPanner:bs,CpTempSendPanner:R},props:["chtr"],data(){return{tabs:0}},computed:{phoned(){const t=this.pina().chatter;return t?t.phone_number:""},chatter(){let t=this.chtr;return t=t?t.phone_number:void 0,t?this.pina().ioc_chatter_by_phoned(t):{}},is_aiiow_taik(){let t=this.chatter;return t=t?t.free_response_limit:null,t?C(t)>C(new Date):!1},words(){return this.pina().chat_ioc_words(this.chtr)},pot(){return document.getElementById("pot_"+this.$.uid)}},mounted(){this.down(),document.getElementById("pot_"+this.$.uid).addEventListener("scroll",t=>{const s=t.target.scrollTop;t.target.scrollHeight-s>800&&this.$emit("showFunc")})},methods:{open_Tab(t){this.tabs==t?this.tabs=0:this.tabs=t},insert_emoji(t){this.$refs.areaREF.insert_emoji(t),this.tabs=0},insert_words(t){this.pina().insert_words(t,this.phoned)},async say(t){this.down(),t.from_ioc=!0,t.phone_number=this.phoned,this.insert_words(t),this.down();try{await this.pina().say(this,t)}catch{}await this.$refs.reREF.refresh(),this.down()},down(){setTimeout(()=>{this.pot.scrollTop=this.pot.scrollHeight},1)}}},ks={class:"chat-pot-paner ps-r"},xs=["id"];function Cs(t,s,r,d,_,e){const o=u("cp-chat-pot-cont"),a=u("cp-chat-pot-input-area"),l=u("him-refresh-msgs"),f=u("cp-emoji-panner"),w=u("cp-temp-send-panner");return n(),i("div",ks,[c("div",{id:"pot_"+t.$.uid},[e.words?(n(),b(o,{key:0,can_taik:e.is_aiiow_taik,_chtr:e.chatter,msgs:e.words},null,8,["can_taik","_chtr","msgs"])):$("",!0)],8,xs),c("nav",null,[m(a,{can_taik:e.is_aiiow_taik,onOpenTab:e.open_Tab,ref:"areaREF",onSend:e.say},null,8,["can_taik","onOpenTab","onSend"])]),m(l,{onSign:e.down,ref:"reREF"},null,8,["onSign"]),m(f,{open:_.tabs==1,onSend_emoji:e.insert_emoji},null,8,["open","onSend_emoji"]),m(w,{onCiose:e.open_Tab,onToDown:e.down,_chtr:e.chatter,open:_.tabs==2},null,8,["onCiose","onToDown","_chtr","open"])])}const Ts=p(ws,[["render",Cs]]);const Es={components:{CpChatPotPaner:Ts,CpChatTopUserDetailBar:gt,EosFuncGoDown:et},props:["chatter"],data(){return{func:!1}},watch:{func(t){t&&setTimeout(s=>this.func=!1,4800)}},mounted(){},methods:{goDown(){this.$refs.potREF.down(),this.func=!1},showFunc(){this.func=!0}}};function Ds(t,s,r,d,_,e){const o=u("cp-chat-top-user-detail-bar"),a=u("cp-chat-pot-paner"),l=u("eos-func-go-down");return n(),i("div",null,[m(o,{class:"chat-top-bar"}),m(a,{onShowFunc:e.showFunc,ref:"potREF",chtr:r.chatter},null,8,["onShowFunc","chtr"]),_.func?(n(),b(l,{key:0,class:"upper-go-down",onDown:e.goDown},null,8,["onDown"])):$("",!0)])}const Fs=p(Es,[["render",Ds]]),Ss={components:{EosUserAvatarDef:F},props:["user"],mounted(){console.log("user =",this.user)}},js={class:"t-c"},Rs={class:"cp-udp-fn-cover"},As={class:"h4 pt"},Is={class:"sub"};function Ps(t,s,r,d,_,e){const o=u("eos-user-avatar-def");return n(),i("div",js,[c("div",Rs,[m(o)]),c("div",As,y(r.user.profile_name),1),c("div",Is,y(r.user.phone_number),1)])}const Ns=p(Ss,[["render",Ps]]),Hs={};function Bs(t,s,r,d,_,e){return n(),i("div")}const Ls=p(Hs,[["render",Bs]]),Os={components:{CpUdpFaceName:Ns,CpUdpAccountOpera:Ls},data(){return{}},computed:{chatter(){return this.pina().chatter},open(){return this.pina().PANNER?this.pina().PANNER==1:0}},methods:{ciose(){this.pina().ciose_Panner()}}},Us={key:0,class:"cp-udp-wrapper"},Ms=c("div",{class:"px h4"},[c("i",{class:"fa-solid fa-xmark"})],-1),Ks=c("div",{class:"pl_x"}," \u806F\u7CFB\u4EBA\u4FE1\u606F ",-1),zs=[Ms,Ks],Gs=c("div",{class:"for-ctb-h"},null,-1),Vs={class:"panner mb cp-udp-fn"},qs={class:"panner cp-udp-op"};function Ys(t,s,r,d,_,e){const o=u("cp-udp-face-name"),a=u("cp-udp-account-opera");return e.open?(n(),i("div",Us,[c("nav",{class:"chat-top-bar fx-l w-100 hand",onClick:s[0]||(s[0]=(...l)=>e.ciose&&e.ciose(...l))},zs),Gs,c("nav",Vs,[e.chatter?(n(),b(o,{key:0,user:e.chatter},null,8,["user"])):$("",!0)]),c("nav",qs,[m(a)])])):$("",!0)}const Js=p(Os,[["render",Ys]]),Qs={components:{RoomIayout:j,CpChatCard:Fs,CpGallary:S,CpUserDetailPanner:Js},data(){return{}},computed:{rooms(){return this.pina().rooms},rooms_convert(){let t=[];for(let s in this.rooms)t.push(s);return t},chatter_phone_number(){let t=this.pina().chatter;return t?t.phone_number:null}},mounted(){console.log("\u6240\u6709\u804A\u5929 =",this.rooms)}},Ws={class:"chat_room_card_wrapper"};function Xs(t,s,r,d,_,e){const o=u("cp-chat-card"),a=u("cp-gallary"),l=u("cp-user-detail-panner"),f=u("room-iayout");return n(),b(f,null,N({L:k(()=>[x(t.$slots,"default")]),D:k(()=>[m(l)]),_:2},[e.chatter_phone_number?{name:"R",fn:k(()=>[c("nav",Ws,[(n(!0),i(g,null,v(e.rooms_convert,(w,A)=>(n(),i("div",{class:h({"chat_room_card-show":w==e.chatter_phone_number}),key:A},[w?(n(),b(o,{key:0,chatter:{phone_number:w}},null,8,["chatter"])):$("",!0)],2))),128))]),m(a)])}:{name:"R",fn:k(()=>[c("nav",{class:"chat_room_card_empty"})])}]),1024)}const Zs=p(Qs,[["render",Xs]]),tn={components:{RoomIayout:j,ChatRoom:Zs,CpGallary:S}};function en(t,s,r,d,_,e){const o=u("router-view"),a=u("chat-room");return n(),b(a,{class:"room-page for-chat-top"},{default:k(()=>[m(o)]),_:1})}const on=p(tn,[["render",en]]);export{on as default};
