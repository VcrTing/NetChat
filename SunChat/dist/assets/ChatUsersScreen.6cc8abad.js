import{_ as d,o as n,c as r,a as t,b as g,n as f,t as $,d as i,e as w,f as l,i as C,v as E,F as U,r as S,k as v,h as D,g as y,E as M}from"./index.4d1f8784.js";import{E as R,T}from"./TookitSpoonTimed.451381bc.js";const B={props:["clear","_cis"],mounted(){}},N={class:"dropdown"},V=["id"],z=["id"];function F(s,o,a,p,c,e){return n(),r("div",N,[t("div",{class:"drop-trig",id:"popper_trig_"+s.$.uid},[g(s.$slots,"tit")],8,V),t("div",{class:f(["drop-inner",a._cis]),id:"popper_cont_"+s.$.uid},[g(s.$slots,"cont")],10,z)])}const x=d(B,[["render",F]]),O={props:["is_eff"]},L=t("i",null,"...",-1),A=[L];function I(s,o,a,p,c,e){return n(),r("div",{class:f(["ui-i",{"ui-i-eff":a.is_eff}])},A,2)}const b=d(O,[["render",I]]);const J={components:{UiDropdown:x,UiIconOpt:b},props:["open"],methods:{cioseDrop(){this.$emit("ciose")}}},P={class:"ui-droptap ui-droptap-anime user-room-droptap"},j=t("div",{class:"droptap-trig"},[t("span",null,[t("i",{class:"fa-solid fa-angle-down"})])],-1),q=t("div",{class:"droptap-inner"},[t("nav",{class:"py"},[t("button",null,"read it all"),t("button",null,"trash talk")])],-1),G=[j,q];function H(s,o,a,p,c,e){return n(),r("div",P,G)}const K=d(J,[["render",H]]);const Q={props:{text:{type:String}}},W={class:"thd"};function X(s,o,a,p,c,e){return n(),r("div",W,$(a.text),1)}const Y=d(Q,[["render",X]]);const Z={components:{EosChatUserDropMenu:K,EosUserAvatarDef:R,TookitSpoonTimed:T,EosUserRcMuteMsg:Y},props:["chatter","msgs"],data(){return{drop:!1}},methods:{editDrop(){this.drop=!this.drop}},computed:{cher(){return this.chatter},reciever(){return this.pina().chatter},is_now(){return this.cher?this.cher.phone_number==this.reciever.phone_number:!1},name_avatar(){const s=this.cher?this.cher.profile_name:"";return s?s.substring(0,1):""},iast_msg(){let s=this.msgs;s=s||[];let o=s.length;return o=o?o-1:0,s[o]}}},ss=t("span",{class:"pl"},null,-1),ts={class:"user-avatar fx-c"},es={key:1},os={class:""},ns={key:1},rs=t("span",{class:"px_s"},null,-1),cs={class:"t-l fx-1"},as={class:"fx-s"},_s={class:"fs_s sub"},is={class:"fx-s"},ds={class:"fs_s"},ps={key:1};function ls(s,o,a,p,c,e){const _=i("eos-user-avatar-def"),u=i("tookit-spoon-timed"),m=i("eos-user-rc-mute-msg"),h=i("eos-chat-user-drop-menu");return e.cher?(n(),r("nav",{key:0,class:f(["eos-user-room-card fx-s",{"bg-def":e.is_now}])},[ss,t("div",ts,[e.cher.avatar?(n(),r("div",{key:0,style:w({background:"url("+e.cher.avatar+")","background-size":"cover","background-repeat":"no-repeat","background-position":"center"})},null,4)):(n(),r("div",es,[e.name_avatar?(n(),r("div",{key:0,class:f(["user-avatar user-def-avatar bg-avatar",{"bg-avatar":!e.is_now,"bg-avatar":e.is_now}])},[t("span",os,$(e.name_avatar),1)],2)):(n(),r("div",ns,[l(_,{class:"w-100"})]))]))]),rs,t("nav",cs,[t("div",as,[t("div",null,$(e.cher.profile_name?e.cher.profile_name:"\u672A\u77E5\u7528\u6236(\u5C0D\u65B9\u672A\u56DE\u5FA9)"),1),t("div",_s,[l(u,{_timed:e.iast_msg.date_time,mode:2},null,8,["_timed"])])]),t("nav",is,[l(m,{text:e.cher.phone_number},null,8,["text"]),t("div",ds,[l(h,{open:c.drop,onCiose:e.editDrop},null,8,["open","onCiose"])])])])],2)):(n(),r("div",ps))}const us=d(Z,[["render",ls]]),hs={data(){return{word:"",is_sort:!1}},watch:{word(s){this.$emit("search",s)},is_sort(s){this.$emit("sort",s)}},methods:{sort(){this.is_sort=!this.is_sort}}},ms={class:"f-row eos-user-room-filter"},fs={class:"ip-i-i fx-1"},$s=t("span",null,[t("i",{class:"fa-solid fa-magnifying-glass"})],-1),vs={key:0,class:"fa-solid fa-arrow-down-short-wide"},gs={key:1,class:"fa-solid fa-arrow-down-wide-short"};function ys(s,o,a,p,c,e){return n(),r("div",ms,[t("nav",fs,[$s,C(t("input",{class:"input","onUpdate:modelValue":o[0]||(o[0]=_=>c.word=_),placeholder:"\u641C\u7D22\u6216\u5F00\u59CB\u65B0\u5BF9\u8BDD"},null,512),[[E,c.word]])]),t("div",{onClick:o[1]||(o[1]=(..._)=>e.sort&&e.sort(..._)),class:"euef-btn-funni"},[c.is_sort?(n(),r("i",gs)):(n(),r("i",vs))])])}const xs=d(hs,[["render",ys]]);const bs={},ks={class:"empty empty-contact fx-c t-c"},ws=t("div",null,[t("h6",{class:"pb_s"},"\u8054\u7EDC\u4EBA\u4E3A\u7A7A"),t("button",{class:"thd btn-txt-acc"},[t("i",{class:"fa-solid fa-plus"}),t("span",{class:"pl_s"},"\u5F00\u59CB\u65B0\u5BF9\u8BDD")])],-1),Cs=[ws];function Es(s,o,a,p,c,e){return n(),r("div",ks,Cs)}const Us=d(bs,[["render",Es]]),Ss={components:{EosUserRoomCard:us,EosUserRoomFilter:xs,EosEmptyConact:Us},methods:{searchUser(s){console.log("\u7B5B\u9009 =",s),console.log("\u8981\u4ECE\u4E2D =",this.rooms)},sortUser(s){console.log("SORT =",s)},change(s){const o=s.phone_number;o!=this.chatter.phone_number&&(console.log("\u6539\u53D8 oid =",o),this.pina().change_chatter(o))}},computed:{rooms(){return this.pina().rooms},chatter(){return this.pina().chatter},contacts(){return this.pina().contacts},has_room(){let s=!0;return JSON.stringify(this.rooms)=="{}"&&(s=!1),s}}},Ds={class:"chat-user-paner"},Ms={key:0},Rs=["onClick"];function Ts(s,o,a,p,c,e){const _=i("eos-user-room-filter"),u=i("eos-user-room-card"),m=i("eos-empty-conact");return n(),r("div",Ds,[l(_,{onSearch:e.searchUser,onSort:e.sortUser},null,8,["onSearch","onSort"]),e.has_room?(n(),r("div",Ms,[(n(!0),r(U,null,S(e.rooms,(h,k)=>(n(),r("div",{onClick:qs=>e.change(h.chatter),key:k},[h.chatter?(n(),v(u,{key:0,chatter:h.chatter,msgs:h.msgs},null,8,["chatter","msgs"])):D("",!0)],8,Rs))),128))])):(n(),v(m,{key:1}))])}const Bs=d(Ss,[["render",Ts]]);const Ns={components:{UiDropdown:x,UiIconOpt:b}},Vs={class:"dropmenu-def drop-chat-setting tit"},zs=t("button",null,"Starred messages",-1);function Fs(s,o,a,p,c,e){const _=i("ui-icon-opt"),u=i("ui-dropdown");return n(),v(u,null,{tit:y(()=>[l(_)]),cont:y(()=>[t("nav",Vs,[zs,t("button",{onClick:o[0]||(o[0]=m=>s.go("/chat/settings"))},"Settings")])]),_:1})}const Os=d(Ns,[["render",Fs]]),Ls={components:{EosChatSettingDropMenu:Os,EosUserEasyCard:M}},As={class:"fx-r"};function Is(s,o,a,p,c,e){return n(),r("div",As)}const Js=d(Ls,[["render",Is]]),Ps={components:{ChatTbLeft:Js,CpChatUsersPaner:Bs}};function js(s,o,a,p,c,e){const _=i("chat-tb-left"),u=i("cp-chat-users-paner");return n(),r("div",null,[l(_,{class:"chat-top-bar px"}),l(u)])}const Ks=d(Ps,[["render",js]]);export{Ks as default};
