import{_ as p,o as n,c as r,a as e,b as w,n as m,e as d,h as g,w as $,f as h,g as f,d as y,t as v,j as x,v as U,F as S,r as E,i as M,E as D}from"./index.90d9077d.js";const B={props:["clear","_cis"],mounted(){}},V={class:"dropdown"},z=["id"],F=["id"];function N(s,t,i,u,a,o){return n(),r("div",V,[e("div",{class:"drop-trig",id:"popper_trig_"+s.$.uid},[w(s.$slots,"tit")],8,z),e("div",{class:m(["drop-inner",i._cis]),id:"popper_cont_"+s.$.uid},[w(s.$slots,"cont")],10,F)])}const b=p(B,[["render",N]]),R={props:["is_eff"]},T=e("i",null,"...",-1),L=[T];function O(s,t,i,u,a,o){return n(),r("div",{class:m(["ui-i",{"ui-i-eff":i.is_eff}])},L,2)}const k=p(R,[["render",O]]);const j={components:{UiDropdown:b,UiIconOpt:k}},A={class:"tit"};function I(s,t,i,u,a,o){const c=d("ui-icon-opt"),l=d("ui-dropdown");return n(),g(l,{class:m("user-dropdown")},{tit:$(()=>[h(c)]),cont:$(()=>[e("nav",A,[e("button",{onClick:t[0]||(t[0]=f(_=>s.option(1),["stop"]))},"Archive chat"),e("button",{onClick:t[1]||(t[1]=f(_=>s.option(2),["stop"]))},"Mute notifications"),e("button",{onClick:t[2]||(t[2]=f(_=>s.option(3),["stop"]))},"Unpin chat"),e("button",{onClick:t[3]||(t[3]=f(_=>s.option(4),["stop"]))},"Mark as unread")])]),_:1})}const P=p(j,[["render",I]]),q={components:{EosChatUserDropMenu:P},props:["chatter","msgs"],computed:{cher(){return this.chatter},reciever(){return this.pina().chatter},is_now(){return this.cher?this.cher.phone_number==this.reciever.phone_number:!1},name_avatar(){const s=this.cher?this.cher.profile_name:"";return s?s.substring(0,1):""}}},G=e("span",{class:"px_s"},null,-1),H={class:"user-avatar fx-c"},J=e("span",{class:"px_s"},null,-1),K={class:"t-l fx-1"},Q={class:"fx-s"},W=e("div",{class:"fs_s sus"},"\u6628\u5929 12:20",-1),X={class:"fs_s sub fx-s"},Y={key:1};function Z(s,t,i,u,a,o){const c=d("eos-chat-user-drop-menu");return o.cher?(n(),r("nav",{key:0,class:m(["eos-user-room-card fx-s",{"bg-def":o.is_now}])},[G,e("div",H,[o.cher.avatar?(n(),r("div",{key:0,style:y({background:"url("+o.cher.avatar+")","background-size":"cover","background-repeat":"no-repeat","background-position":"center"})},null,4)):(n(),r("div",{key:1,class:m(["user-avatar user-def-avatar",{"bg-def":!o.is_now,"bg-avatar":o.is_now}])},[e("span",null,v(o.name_avatar?o.name_avatar:""),1)],2))]),J,e("nav",K,[e("div",Q,[e("div",null,v(o.cher.profile_name?o.cher.profile_name:"\u672A\u77E5\u7528\u6236(\u5C0D\u65B9\u672A\u56DE\u5FA9)"),1),W]),e("nav",X,[e("span",null,v(o.cher.phone_number),1),e("div",null,[h(c)])])])],2)):(n(),r("div",Y))}const ss=p(q,[["render",Z]]),ts={data(){return{word:"",is_sort:!1}},watch:{word(s){this.$emit("search",s)},is_sort(s){this.$emit("sort",s)}},methods:{sort(){this.is_sort=!this.is_sort}}},es={class:"f-row eos-user-room-filter"},os={class:"ip-i-i fx-1"},ns=e("span",null,[e("i",{class:"fa-solid fa-magnifying-glass"})],-1),rs={key:0,class:"fa-solid fa-arrow-down-short-wide"},cs={key:1,class:"fa-solid fa-arrow-down-wide-short"};function as(s,t,i,u,a,o){return n(),r("div",es,[e("nav",os,[ns,x(e("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=c=>a.word=c),placeholder:"\u641C\u7D22\u7528\u6237"},null,512),[[U,a.word]])]),e("div",{onClick:t[1]||(t[1]=(...c)=>o.sort&&o.sort(...c))},[a.is_sort?(n(),r("i",cs)):(n(),r("i",rs))])])}const is=p(ts,[["render",as]]),_s={components:{EosUserRoomCard:ss,EosUserRoomFilter:is},methods:{searchUser(s){console.log("\u7B5B\u9009 =",s),console.log("\u8981\u4ECE\u4E2D =",this.rooms)},sortUser(s){console.log("SORT =",s)},change(s){const t=s.phone_number;t!=this.chatter.phone_number&&(console.log("\u6539\u53D8 oid =",t),this.pina().change_chatter(t))}},computed:{rooms(){return this.pina().rooms},chatter(){return this.pina().chatter},contacts(){return this.pina().contacts}}},ds={class:"chat-user-paner"},ps=["onClick"];function us(s,t,i,u,a,o){const c=d("eos-user-room-filter"),l=d("eos-user-room-card");return n(),r("div",ds,[h(c,{onSearch:o.searchUser,onSort:o.sortUser},null,8,["onSearch","onSort"]),(n(!0),r(S,null,E(o.rooms,(_,C)=>(n(),r("div",{onClick:xs=>o.change(_.chatter),key:C},[_.chatter?(n(),g(l,{key:0,chatter:_.chatter,msgs:_.msgs},null,8,["chatter","msgs"])):M("",!0)],8,ps))),128))])}const ls=p(_s,[["render",us]]);const hs={components:{UiDropdown:b,UiIconOpt:k}},ms={class:"dropmenu-def drop-chat-setting tit"},fs=e("button",null,"Starred messages",-1);function $s(s,t,i,u,a,o){const c=d("ui-icon-opt"),l=d("ui-dropdown");return n(),g(l,null,{tit:$(()=>[h(c)]),cont:$(()=>[e("nav",ms,[fs,e("button",{onClick:t[0]||(t[0]=_=>s.go("/chat/settings"))},"Settings")])]),_:1})}const vs=p(hs,[["render",$s]]),gs={components:{EosChatSettingDropMenu:vs,EosUserEasyCard:D}},ws={class:"fx-r"};function bs(s,t,i,u,a,o){return n(),r("div",ws)}const ks=p(gs,[["render",bs]]),Cs={components:{ChatTbLeft:ks,CpChatUsersPaner:ls}};function ys(s,t,i,u,a,o){const c=d("chat-tb-left"),l=d("cp-chat-users-paner");return n(),r("div",null,[h(c,{class:"chat-top-bar px"}),h(l)])}const Ss=p(Cs,[["render",ys]]);export{Ss as default};
