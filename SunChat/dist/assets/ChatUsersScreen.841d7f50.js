import{_ as p,o as r,c as i,a as t,b,n as y,d,l as f,g as v,t as g,E as D,e as P,f as l,h as w,i as $,v as k,F as C,r as U,q as V,s as F,u as E}from"./index.951d04ad.js";import{T as L}from"./TookitSpoonTimed.3343320a.js";import{S as R,a as S,E as N}from"./SettingOfUser.42680be9.js";import{U as B}from"./UiInput.bcdfd568.js";const I={props:["_cis"]},A={class:"ui-droptap ui-droptap-anime"},O={class:"droptap-inner"};function j(e,s,o,u,a,n){return r(),i("nav",A,[t("div",{class:y(["droptap-trig",o._cis])},[b(e.$slots,"trig")],2),t("div",O,[b(e.$slots,"cont")])])}const M=p(I,[["render",j]]);const z={components:{UiDropTap:M},props:["open"],methods:{cioseDrop(){this.$emit("ciose")}}},q=t("span",null,[t("i",{class:"fa-solid fa-angle-down"})],-1),J=t("nav",{class:"py"},[t("button",null,"\u5220\u9664\u5BF9\u8BDD"),t("button",null,"\u9876\u7F6E\u5BF9\u8BDD"),t("button",null,"\u6807\u8BB0\u4E3A\u672A\u8BFB")],-1);function G(e,s,o,u,a,n){const c=d("ui-drop-tap");return r(),f(c,{class:"user-room-droptap"},{trig:v(()=>[q]),cont:v(()=>[J]),_:1})}const H=p(z,[["render",G]]);const K={props:{text:{type:String}}},Q={class:"thd"};function W(e,s,o,u,a,n){return r(),i("div",Q,g(o.text),1)}const X=p(K,[["render",W]]);const Y={components:{EosChatUserDropMenu:H,EosUserAvatarDef:D,TookitSpoonTimed:L,EosUserRcMuteMsg:X},props:["chatter","msgs"],data(){return{drop:!1}},methods:{editDrop(){this.drop=!this.drop}},mounted(){console.log("\u8BE5\u4EBA\u804A\u5929 =",this.iast_msg)},computed:{cher(){return this.chatter},reciever(){return this.pina().chatter},is_now(){return this.cher?this.cher.phone_number==this.reciever.phone_number:!1},name_avatar(){const e=this.cher?this.cher.profile_name:"";return e?e.substring(0,1):""},iast_msg(){let e=this.msgs;e=e||[];let s=e.length;return s=s?s-1:0,e=e?e[s]:null,e},room_sub_text(){return this.iast_msg?this.iast_msg.message:this.cher.phone_number}}},Z=t("span",{class:"pl"},null,-1),ss={class:"user-avatar fx-c"},es={key:1},ts={class:""},ns={key:1},os=t("span",{class:"px_s"},null,-1),rs={class:"t-l fx-1"},as={class:"fx-s"},cs={class:"fs_s sub"},is={class:"fx-s"},_s={class:"fs_s"},ds={key:1};function us(e,s,o,u,a,n){const c=d("eos-user-avatar-def"),_=d("tookit-spoon-timed"),h=d("eos-user-rc-mute-msg"),m=d("eos-chat-user-drop-menu");return n.cher?(r(),i("nav",{key:0,class:y(["eos-user-room-card fx-s",{"bg-def":n.is_now}])},[Z,t("div",ss,[n.cher.avatar?(r(),i("div",{key:0,style:P({background:"url("+n.cher.avatar+")","background-size":"cover","background-repeat":"no-repeat","background-position":"center"})},null,4)):(r(),i("div",es,[n.name_avatar?(r(),i("div",{key:0,class:y(["user-avatar user-def-avatar bg-avatar",{"bg-avatar":!n.is_now,"bg-avatar":n.is_now}])},[t("span",ts,g(n.name_avatar),1)],2)):(r(),i("div",ns,[l(c,{class:"w-100"})]))]))]),os,t("nav",rs,[t("div",as,[t("div",null,g(n.cher.profile_name?n.cher.profile_name:"\u672A\u77E5\u7528\u6236"),1),t("div",cs,[n.iast_msg?(r(),f(_,{key:0,_timed:n.iast_msg.date_time,mode:2},null,8,["_timed"])):w("",!0)])]),t("nav",is,[l(h,{text:n.room_sub_text},null,8,["text"]),t("div",_s,[l(m,{open:a.drop,onCiose:n.editDrop},null,8,["open","onCiose"])])])])],2)):(r(),i("div",ds))}const ps=p(Y,[["render",us]]),ls={data(){return{word:"",is_sort:!1}},watch:{word(e){this.$emit("search",e)},is_sort(e){this.$emit("sort",e)}},methods:{sort(){this.is_sort=!this.is_sort}}},hs={class:"f-row eos-user-room-filter"},ms={class:"ip-i-i fx-1"},fs=t("span",null,[t("i",{class:"fa-solid fa-magnifying-glass"})],-1),$s={key:0,class:"fa-solid fa-arrow-down-short-wide"},vs={key:1,class:"fa-solid fa-arrow-down-wide-short"};function gs(e,s,o,u,a,n){return r(),i("div",hs,[t("nav",ms,[fs,$(t("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=c=>a.word=c),placeholder:"\u641C\u7D22\u6216\u958B\u59CB\u65B0\u5C0D\u8A71"},null,512),[[k,a.word]])]),t("div",{onClick:s[1]||(s[1]=(...c)=>n.sort&&n.sort(...c)),class:"euef-btn-funni"},[a.is_sort?(r(),i("i",vs)):(r(),i("i",$s))])])}const xs=p(ls,[["render",gs]]);const ys={},ks={class:"empty empty-contact fx-c t-c"},bs=t("div",null,[t("h6",{class:"pb_s"},"\u8054\u7EDC\u4EBA\u4E3A\u7A7A"),t("button",{class:"thd btn-txt-acc"},[t("i",{class:"fa-solid fa-plus"}),t("span",{class:"pl_s"},"\u5F00\u59CB\u65B0\u5BF9\u8BDD")])],-1),ws=[bs];function Cs(e,s,o,u,a,n){return r(),i("div",ks,ws)}const Us=p(ys,[["render",Cs]]),Es={components:{EosUserRoomCard:ps,EosUserRoomFilter:xs,EosEmptyConact:Us},data(){return{reverse:!1,search:""}},methods:{searchUser(e){console.log("\u7B5B\u9009 =",e)},change(e){const s=e.phone_number;s!=this.chatter.phone_number&&this.pina().change_chatter(s)},getMsgs(e){let s=e?e.phone_number:"",o;for(let u in this.rooms)u==s&&(o=this.rooms[u].msgs);return o||[]},setOrder(e){return e.map((s,o)=>(s.order=s.order?s.order:o,s))}},mounted(){console.log(this.contacts)},computed:{users(){},rooms(){return this.pina().rooms},chatter(){return this.pina().chatter},contacts(){let e=[];for(let s in this.rooms)e.push(this.rooms[s].chatter);return e=e?e.map((s,o)=>(s.order=o,s)):[],e.sort((s,o)=>this.reverse?o.order-s.order:s.order-o.order)},has_room(){let e=!0;return JSON.stringify(this.rooms)=="{}"&&(e=!1),e}}},Ss={class:"chat-user-paner"},Ms={key:0},Ts=["onClick"];function Ds(e,s,o,u,a,n){const c=d("eos-user-room-filter"),_=d("eos-user-room-card"),h=d("eos-empty-conact");return r(),i("div",Ss,[l(c,{onSearch:n.searchUser,onSort:s[0]||(s[0]=()=>a.reverse=!a.reverse)},null,8,["onSearch"]),n.has_room?(r(),i("div",Ms,[(r(!0),i(C,null,U(n.contacts,(m,x)=>(r(),i("div",{onClick:Qe=>n.change(m),key:x},[m?(r(),f(_,{key:0,chatter:m,msgs:n.getMsgs(m)},null,8,["chatter","msgs"])):w("",!0)],8,Ts))),128))])):(r(),f(h,{key:1}))])}const Ps=p(Es,[["render",Ds]]);const Vs={components:{UiDropTap:M},props:["open"],methods:{loginout(){this.pina().loginout(),this.$router.push("/login")},cioseDrop(){this.$emit("ciose")},setting(){this.$router.push("/chat/settings")}}},Fs=t("span",null,[t("i",{class:"fa-solid fa-ellipsis-vertical"})],-1),Ls={class:"py"};function Rs(e,s,o,u,a,n){const c=d("ui-drop-tap");return r(),f(c,{class:"setting-droptap",_cis:"fx-r"},{trig:v(()=>[Fs]),cont:v(()=>[t("nav",Ls,[t("button",{onClick:s[0]||(s[0]=(..._)=>n.setting&&n.setting(..._))},"\u8BBE\u7F6E"),t("button",{onClick:s[1]||(s[1]=(..._)=>n.loginout&&n.loginout(..._))},"\u767B\u51FA")])]),_:1})}const Ns=p(Vs,[["render",Rs]]),Bs={components:{EosChatSettingDropMenu:Ns,EosUserEasyCard:V},computed:{me(){return this.pina().me}}},Is={class:"fx-l"},As={class:"fx-s w-100"},Os={class:"fx-c"},js=t("i",{class:"fa-solid fa-user-plus"},null,-1),zs=[js];function qs(e,s,o,u,a,n){const c=d("eos-user-easy-card"),_=d("eos-chat-setting-drop-menu");return r(),i("nav",Is,[t("nav",As,[n.me?(r(),f(c,{key:0,user:n.me},null,8,["user"])):w("",!0),t("div",Os,[t("span",{class:"h4",onClick:s[0]||(s[0]=h=>e.pina().open_Panner_Left(2))},zs),l(_)])])])}const Js=p(Bs,[["render",qs]]),Gs={components:{SettingOfUser:R}},Hs={class:"chat-user-fixed-panner"};function Ks(e,s,o,u,a,n){const c=d("setting-of-user");return r(),i("div",Hs,[l(c,{onCiose:s[0]||(s[0]=_=>e.pina().ciose_Panner_Left())})])}const Qs=p(Gs,[["render",Ks]]),Ws={watch:{now(e){this.$emit("change",e)}},data(){return{now:"852",items:[{txt:"+852",v:"852"},{txt:"+853",v:"853"},{txt:"+001",v:"001"},{txt:"--",v:""}]}}},Xs=["value"];function Ys(e,s,o,u,a,n){return $((r(),i("select",{"onUpdate:modelValue":s[0]||(s[0]=c=>a.now=c)},[(r(!0),i(C,null,U(a.items,(c,_)=>(r(),i("option",{value:c.v,key:"i"},g(c.txt),9,Xs))),128))],512)),[[F,a.now]])}const T=p(Ws,[["render",Ys]]),Zs={props:["cis","open"],methods:{}},se={class:"modai-cont"},ee={class:"modai-center"};function te(e,s,o,u,a,n){return r(),i("div",{class:y(["ui-modai",{"modai-active":o.open}])},[t("div",{class:"modai-hui",onClick:s[0]||(s[0]=c=>e.$emit("ciose"))}),t("nav",se,[t("div",ee,[t("div",{class:y(o.cis)},[b(e.$slots,"default")],2)])])],2)}const ne=p(Zs,[["render",te]]),oe={components:{UiCountrySeiect:T},data(){return{named:"",phoned:"",prefix:""}},methods:{coiiect(){return this.data}}},re={class:"ui-input-icon"},ae=t("span",null,[t("i",{class:"fa-regular fa-user"})],-1),ce=t("div",{class:"py_n"},null,-1),ie={class:"ui-input-select"};function _e(e,s,o,u,a,n){const c=d("ui-country-seiect");return r(),i("div",null,[t("nav",re,[ae,$(t("input",{"onUpdate:modelValue":s[0]||(s[0]=_=>a.named=_),class:"input",placeholder:"\u5BA2\u6237\u540D\u79F0"},null,512),[[k,a.named]])]),ce,t("nav",ie,[l(c,{onChange:s[1]||(s[1]=_=>a.prefix=_),class:"attch-seiect input"}),$(t("input",{"onUpdate:modelValue":s[2]||(s[2]=_=>a.phoned=_),class:"input",placeholder:"\u8054\u7EDC\u7535\u8BDD"},null,512),[[k,a.phoned]])])])}const de=p(oe,[["render",_e]]);const ue={components:{SettingAppIayout:S,UiModal:ne,UiInput:B,UiCountrySeiect:T,CptmForm:de},computed:{modai(){return this.pina().MODAL}},methods:{submit(){this.$refs.formREF.coiiect()}}},pe={class:"px_x3 py_x2 chat-plus-taik-modai"};function le(e,s,o,u,a,n){const c=d("cptm-form"),_=d("ui-modal");return r(),f(_,{open:n.modai==2,onCiose:s[1]||(s[1]=h=>e.pina().ciose_Modai())},{default:v(()=>[t("div",pe,[l(c,{ref:"formREF"},null,512)]),t("button",{onClick:s[0]||(s[0]=(...h)=>n.submit&&n.submit(...h)),class:"btn-sec_shai py_n px_x2 w-100"}," \u65B0\u589E\u8A72\u806F\u7D61\u4EBA ")]),_:1},8,["open"])}const he=p(ue,[["render",le],["__scopeId","data-v-2e764a68"]]),me={props:["pchd"],data(){return{words:""}}},fe={class:"eos-front-search-block"},$e={class:"fx-s fx-1"},ve={class:"ip-i-i fx-1"},ge=t("span",null,[t("i",{class:"fa-solid fa-magnifying-glass"})],-1),xe=["placeholder"];function ye(e,s,o,u,a,n){return r(),i("div",fe,[t("div",$e,[t("nav",ve,[ge,$(t("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=c=>a.words=c),placeholder:o.pchd},null,8,xe),[[k,a.words]])])])])}const ke=p(me,[["render",ye]]),be={},we={class:"eos-new-user-button-card"},Ce=t("div",null,[t("div",{class:"icon-cover h4"},[t("i",{class:"fa-solid fa-user-plus"})])],-1),Ue=t("button",{class:"fx-1"}," \u65B0\u5EFA\u806F\u7D61\u4EBA ",-1),Ee=[Ce,Ue];function Se(e,s,o,u,a,n){return r(),i("div",we,Ee)}const Me=p(be,[["render",Se]]);const Te={components:{EosUserAvatar:N},props:["user"]},De={class:"eos-new-user-button-card"},Pe={class:"fx-1"},Ve={key:0},Fe={key:1},Le={class:"sub fs_14"};function Re(e,s,o,u,a,n){const c=d("eos-user-avatar");return r(),i("div",De,[t("div",null,[l(c,{img:null})]),t("button",Pe,[t("div",null,[o.user.profile_name?(r(),i("span",Ve,g(o.user.profile_name),1)):(r(),i("span",Fe,"\u672A\u77E5\u5BA2\u6236"))]),t("div",Le,g(o.user.phone_number),1)])])}const Ne=p(Te,[["render",Re],["__scopeId","data-v-62e06481"]]);const Be={components:{EosViewUserItemCard:Ne},computed:{contacts(){return this.pina().contacts},rooms(){return this.pina().rooms},phones_of_rooms(){let e=[];for(let s in this.rooms){const o=this.rooms[s];o&&e.push(o.chatter)}return e.map(s=>s.phone_number+"")}},data(){return{items:[]}},async mounted(){await this.ioad_contacts()},methods:{async ioad_contacts(){const e=await this.serv.contacts(this);this.pina().save_contacts(e),this.items=e},_has_this_chatter(e){const s=e.phone_number+"";return this.phones_of_rooms.indexOf(s)>=0},newTaik(e){e.phone_number&&(this._has_this_chatter(e)||this.pina().insert_new_chatter(e),this.pina().change_chatter(e.phone_number)),this.pina().ciose_Panner_Left()}}},Ie=["onClick"];function Ae(e,s,o,u,a,n){const c=d("eos-view-user-item-card");return r(!0),i(C,null,U(a.items,(_,h)=>(r(),i("div",{key:"i",onClick:m=>n.newTaik(_)},[l(c,{user:_},null,8,["user"])],8,Ie))),128)}const Oe=p(Be,[["render",Ae]]),je={components:{SettingAppIayout:S,EosFrontSearchBlock:ke,EosNewUserTipCard:Me,CctpPanner:Oe}},ze={class:""};function qe(e,s,o,u,a,n){const c=d("eos-front-search-block"),_=d("eos-new-user-tip-card"),h=d("cctp-panner"),m=d("setting-app-iayout");return r(),f(m,{onBarTap:s[1]||(s[1]=x=>e.pina().ciose_Panner_Left()),class:"chat-plus-taik-panner",head:"\u65B0\u5C0D\u8A71"},{default:v(()=>[t("nav",ze,[l(c,{class:"",pchd:"\u641C\u7D22\u806F\u7CFB\u4EBA"}),l(_,{onClick:s[0]||(s[0]=x=>e.pina().open_Modai(2)),class:"cptp-panner-first"}),l(h)])]),_:1})}const Je=p(je,[["render",qe]]),Ge={components:{ChatTbLeft:Js,CpChatUsersPaner:Ps,ChatUserFixedPanner:Qs,ChatPlusTaikModal:he,ChatChoiseTaikPanner:Je},data(){return{}},computed:{panner_ieft(){return this.pina().PANNER_LEFT}}},He=t("div",{class:"space-chat_top_bar"},null,-1);function Ke(e,s,o,u,a,n){const c=d("chat-tb-left"),_=d("cp-chat-users-paner"),h=d("chat-user-fixed-panner"),m=d("chat-choise-taik-panner"),x=d("chat-plus-taik-modal");return r(),i("div",null,[He,l(c,{class:"chat-top-bar px"}),l(_),$(l(h,null,null,512),[[E,n.panner_ieft==1]]),$(l(m,null,null,512),[[E,n.panner_ieft==2]]),l(x)])}const st=p(Ge,[["render",Ke]]);export{st as default};
